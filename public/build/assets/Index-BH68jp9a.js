import{d as o,x as h,R as b,o as r,c as y,w,b as F,u as k,Z as E,a as t,t as a,e as d,g as C,n as I,f as M,F as q,h as N,k as R}from"./app-9S55-VCN.js";import{L as B}from"./LayoutFranqueado-jmbTUkwP.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-B6yIILm4.js";const L={class:"mt-5"},V={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},T={class:"bg-white rounded-lg p-7"},$={class:"text-[#262a27] text-[40px] sm:text-[30px] md:text-[40px] font-bold font-['Figtree'] leading-[48px] tracking-wide"},j={class:"bg-white rounded-lg p-7"},A={class:"text-[#262a27] text-[40px] sm:text-[30px] md:text-[40px] font-bold font-['Figtree'] leading-[48px] tracking-wide"},D={class:"bg-white rounded-lg p-7"},O={class:"text-[#262a27] text-[40px] sm:text-[30px] md:text-[40px] font-bold font-['Figtree'] leading-[48px] tracking-wide"},P={class:"mt-8"},Q={class:"bg-white rounded-lg shadow"},S={class:"space-y-2"},z={class:"flex items-center text-gray-900 font-semibold"},U=["src"],Z={class:"text-center text-gray-900 font-semibold"},G={class:"text-left text-gray-900 font-medium"},J={class:"text-center text-gray-600 font-semibold"},K={class:"text-center text-gray-500 font-semibold"},W={key:0,class:"text-center mt-4"},X={__name:"Index",setup(Y){const f=o("0.00"),c=o("0.00"),x=o("0.00"),g=o([]),u=o(1),n=o(!1),m=o(!0),i=o(null),p=async()=>{if(!(n.value||!m.value)){n.value=!0;try{const{data:e}=await R.get(`/api/estoque/incial?page=${u.value}`);c.value=e.valorInsumos,x.value=e.itensNoEstoque,g.value.push(...e.historicoMovimentacoes.data),e.historicoMovimentacoes.current_page>=e.historicoMovimentacoes.last_page?m.value=!1:u.value++}catch(e){console.error("Erro ao carregar movimentações:",e)}finally{n.value=!1}}},v=()=>{const e=i.value;e.scrollTop+e.clientHeight>=e.scrollHeight-10&&p()};return h(()=>{p(),i.value.addEventListener("scroll",v)}),b(()=>{i.value&&i.value.removeEventListener("scroll",v)}),(e,s)=>(r(),y(B,null,{default:w(()=>[F(k(E),{title:"Histórico de Caixa"}),s[5]||(s[5]=t("div",{class:"flex justify-between items-center mb-4"},[t("div",null,[t("div",{class:"painel-title text-2xl sm:text-3xl md:text-4xl"}," Histórico de Caixa "),t("div",{class:"painel-subtitle"},[t("p",{class:"text-sm sm:text-base md:text-lg"}," Acompanhe seu negócio em tempo real ")])]),t("div",{class:"text-[#262a27] text-[15px] font-semibold font-['Figtree'] leading-tight"},[t("div",{class:"flex items-center space-x-2"},[t("img",{src:"/storage/images/calendar_month.svg",alt:"Filtro",class:"w-5 h-5"}),t("span",{class:"text-gray-900 text-[17px] font-semibold"}," 01/09/2024 - 30/09/2024 ")])])],-1)),t("div",L,[t("div",V,[t("div",T,[s[0]||(s[0]=t("h3",{class:"text-lg sm:text-xl md:text-lg font-semibold text-gray-500"}," Valor inicial ",-1)),t("div",$," R$ "+a(f.value),1)]),t("div",j,[s[1]||(s[1]=t("h3",{class:"text-lg sm:text-xl md:text-lg font-semibold text-gray-500"}," Estoque atual ",-1)),t("div",A," R$ "+a(c.value),1)]),t("div",D,[s[2]||(s[2]=t("h3",{class:"text-lg sm:text-xl md:text-lg font-semibold text-gray-500"}," Itens no estoque ",-1)),t("div",O,a(x.value),1)])])]),t("div",P,[s[4]||(s[4]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-[#262a27] text-[17px] mb-[-13px] font-semibold font-['Figtree'] leading-snug"}," Histórico de Movimentações "),t("div",{class:"flex items-center space-x-2"},[t("img",{src:"/storage/images/filter_alt.svg",alt:"Filtro",class:"w-5 h-5"}),t("span",{class:"text-gray-900 text-[17px] font-semibold"}," Filtrar resultados ")])],-1)),t("div",Q,[s[3]||(s[3]=t("div",{class:"bg-[#164110] grid grid-cols-5 gap-4 py-4 px-6 text-xs font-semibold text-[#FFFFFF] uppercase tracking-wider rounded-tl-2xl rounded-tr-2xl"},[t("span",{class:"text-left px-5"},"OPERAÇÃO"),t("span",{class:"text-center"},"QTD."),t("span",{class:"text-left"},"Item"),t("span",{class:"text-center"},"Quando"),t("span",{class:"text-center"},"Responsável")],-1)),t("div",{ref_key:"scrollContainer",ref:i,class:"overflow-y-auto max-h-96 scroll-hidden"},[t("ul",S,[(r(!0),d(q,null,C(g.value,(l,_)=>(r(),d("li",{key:_,class:I({"hover:bg-gray-200":!0,"grid grid-cols-5 gap-2 px-6 py-3 text-[16px]":!0})},[t("span",z,[t("img",{src:l.operacao==="Entrada"?"/storage/images/arrow_back_verde.svg":"/storage/images/arrow_back_red.svg",alt:"icon indicativo",class:"mr-3 w-5 h-5"},null,8,U),M(" "+a(l.operacao==="Entrada"?"Entrada":"Retirada"),1)]),t("span",Z,a(l.quantidade)+" "+a(l.unidade==="unidade"?"uni":"kg"),1),t("span",G,a(l.item),1),t("span",J,a(l.data),1),t("span",K,a(l.responsavel),1)]))),128))])],512),n.value?(r(),d("div",W,"Carregando...")):N("",!0)])])]),_:1}))}},ot=H(X,[["__scopeId","data-v-c664d9aa"]]);export{ot as default};
