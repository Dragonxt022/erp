import{G as L,k as S,y as p,i as m,o as l,e as u,a as s,t as g,c as b,w as q,n as w,u as k,B as $,p as y,N as P,d as F,F as _,g as h,b as v,Z as I,r as A}from"./app-F30cMb71.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B=L("user",{state:()=>({user:null}),actions:{async fetchUserProfile(){if(!this.user)try{const e=await S.get("/api/navbar-profile");e.data.status==="success"?this.user=e.data.data:console.error("Erro ao carregar o perfil:",e.data.message)}catch(e){console.error("Erro ao buscar perfil:",e)}},clearUser(){this.user=null}}}),N={setup(){const e=B();p(async()=>{e.user||await e.fetchUserProfile()});const a=m(()=>e.user),c=m(()=>{var o;return(o=e.user)==null?void 0:o.unidade}),n=m(()=>{var o,t;return((o=a.value)==null?void 0:o.profile_photo_url)||`https://ui-avatars.com/api/?name=${d((t=a.value)==null?void 0:t.name)}&color=7F9CF5&background=EBF4FF`});function d(o){return o?o.split(" ").map(r=>r.charAt(0).toUpperCase()).join(""):"NN"}return{user:a,profilePhoto:n,unidade:c}}},U={class:"navbar"},C={class:"navbar-content"},M={class:"navbar-left"},x={class:"navbar-logo"},E=["href"],G={class:"navbar-right"},T={class:"user-info"},V=["src"],j={class:"user-details"},z={class:"user-name"},D={class:"user-location"};function Q(e,a,c,n,d,o){var t,i;return l(),u("div",U,[a[3]||(a[3]=s("div",{class:"navbar-background"},null,-1)),s("div",C,[s("div",M,[s("div",x,[a[1]||(a[1]=s("div",{class:"mr-4"},[s("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[s("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),s("div",null,[s("a",{href:e.route("franqueadora.painel")},a[0]||(a[0]=[s("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,E)])])]),s("div",G,[a[2]||(a[2]=s("div",{class:"notification"},[s("div",{class:"circle"},[s("img",{src:"/storage/images/icon_notification.svg",alt:"icone notificação"})]),s("div",{class:"inner-circle"})],-1)),s("div",T,[s("img",{src:n.profilePhoto,alt:"Avatar",class:"avatar"},null,8,V),s("div",j,[s("div",z,g((t=n.user)==null?void 0:t.name),1),s("div",D,g(((i=n.unidade)==null?void 0:i.cidade)||"Taiksu Franchising"),1)])])])])])}const R=f(N,[["render",Q],["__scopeId","data-v-0e874165"]]),W={class:"icon"},Z=["src"],H={class:"label"},J={type:"submit",class:"w-full h-full flex items-center"},K={class:"icon"},O=["src"],X={class:"label"},Y={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean},setup(e){const a=e,c=()=>{a.isLogout&&P.post(route("logout"))};return(n,d)=>e.isLogout?(l(),u("form",{key:1,onSubmit:y(c,["prevent"]),class:"menu-item"},[s("button",J,[s("div",K,[s("img",{src:e.icon,alt:"icon"},null,8,O)]),s("div",X,g(e.label),1)])],32)):(l(),b(k($),{key:0,class:w(["menu-item",{active:e.isActive}]),href:e.link},{default:q(()=>[s("div",W,[s("img",{src:e.icon,alt:"icon"},null,8,Z)]),s("div",H,g(e.label),1)]),_:1},8,["class","href"]))}},ss=f(Y,[["__scopeId","data-v-3d61a675"]]),es={class:"category-title"},as={__name:"Slidebar",setup(e){const a=F(null);p(()=>{const o=localStorage.getItem("sidebarScrollPosition");o&&a.value&&(a.value.scrollTop=o)});const c=()=>{a.value&&localStorage.setItem("sidebarScrollPosition",a.value.scrollTop)},n=o=>{const t=window.location.pathname,i=new URL(o,window.location.origin).pathname;return t===i||t.startsWith(i)},d=[{name:"",items:[{label:"Visão Geral",icon:"/storage/images/insert_chart.svg",link:"franqueadora.painel",isLogout:!1}]},{name:"Painel",items:[{label:"E-mail",icon:"/storage/images/email.svg",link:"franqueadora.email",isLogout:!1},{label:"Comunidade",icon:"/storage/images/diversity_4.svg",link:"franqueadora.comunidade",isLogout:!1},{label:"Mídias",icon:"/storage/images/perm_media.svg",link:"franqueadora.midias",isLogout:!1}]},{name:"Gestão da rede",items:[{label:"Megafone",icon:"/storage/images/campaign.svg",link:"franqueadora.megafone",isLogout:!1},{label:"Franqueados",icon:"/storage/images/person.svg",link:"franqueadora.franqueados",isLogout:!1},{label:"Unidades",icon:"/storage/images/storefront.svg",link:"franqueadora.unidades",isLogout:!1}]},{name:"Parâmetros da franquia",items:[{label:"Fornecedores",icon:"/storage/images/handshake_branca.svg",link:"franqueadora.fornecedores",isLogout:!1},{label:"Insumos",icon:"/storage/images/insumos_nova.svg",link:"franqueadora.insumos",isLogout:!1},{label:"Inspetor",icon:"/storage/images/inspecionador.svg",link:"franqueadora.inspetor",isLogout:!1},{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];return(o,t)=>(l(),u("div",{class:"sidebar",ref_key:"sidebar",ref:a,onScroll:c},[(l(),u(_,null,h(d,i=>s("div",{key:i.name,class:"menu-category"},[s("div",es,g(i.name),1),(l(!0),u(_,null,h(i.items,r=>(l(),b(ss,{key:r.link,label:r.label,icon:r.icon,link:o.route(r.link),isActive:n(o.route(r.link)),isLogout:r.isLogout},null,8,["label","icon","link","isActive","isLogout"]))),128))])),64))],544))}},os=f(as,[["__scopeId","data-v-adac51a2"]]),ts={class:"content"},is={__name:"LayoutFranqueadora",props:{title:String},setup(e){return(a,c)=>(l(),u("div",null,[v(k(I),{title:e.title},null,8,["title"]),v(R),v(os),s("main",ts,[A(a.$slots,"default",{},void 0,!0)])]))}},ls=f(is,[["__scopeId","data-v-bd0a65dc"]]);export{ls as A};
