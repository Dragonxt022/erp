import{T as b,o as i,e as d,b as n,u as t,Z as w,a as s,t as h,h as k,p as v,j as p,v as m,w as c,f as x,n as y,z as $,F as _}from"./app-CKlGL9XP.js";import{B as T}from"./ButtonPrimary-B-sHPTUI.js";import{_ as u}from"./InputError-gV2k9hqN.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"login-container"},E={class:"login-box"},S={class:"login-box-inner"},V={key:0,class:"mb-4 font-medium text-sm text-green-600"},F={class:"input-container"},A={class:"input-container"},I={__name:"Entrar",props:{canResetPassword:Boolean,status:String},setup(l){const o=b({cpf:"",password:"",remember:!0,errors:{}}),g=async()=>{o.transform(a=>({...a,remember:o.remember?"on":""})),o.post(route("entrar.painal"),{onFinish:async()=>{o.reset("password"),await(async()=>{try{const e=await axios.get("/get-token",{withCredentials:!0});if(e.data.status==="success"){const r=e.data.token;localStorage.setItem("auth_token",r),axios.defaults.headers.common.Authorization=`Bearer ${r}`,console.log("Token obtido com sucesso!")}else console.error("Erro ao obter o token:",e.data)}catch(e){console.error("Erro na requisição para obter o token:",e)}})()}})},f=a=>{let e=a.target.value.replace(/\D/g,"");e.length>11&&(e=e.slice(0,11)),e.length>9?e=e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):e.length>6?e=e.replace(/(\d{3})(\d{3})(\d{3})/,"$1.$2.$3"):e.length>3&&(e=e.replace(/(\d{3})(\d{3})/,"$1.$2")),o.cpf=e};return(a,e)=>(i(),d(_,null,[n(t(w),{title:"Acessar"}),s("div",C,[e[7]||(e[7]=s("img",{class:"background-img",src:"/storage/images/mulher_login.png",alt:"Imagem de fundo representando uma mulher usando um computador"},null,-1)),e[8]||(e[8]=s("img",{class:"logo-img",src:"/storage/images/logo_tipo.png",alt:"Logo do Taiksu"},null,-1)),s("div",E,[s("div",S,[e[6]||(e[6]=s("div",{class:"title-container"},[s("div",{class:"title"},"Entrar no Taiksu"),s("div",{class:"subtitle"},"Acompanhe seu negócio em tempo real")],-1)),l.status?(i(),d("div",V,h(l.status),1)):k("",!0),s("form",{onSubmit:v(g,["prevent"])},[s("div",F,[e[2]||(e[2]=s("label",{for:"cpf"},"CPF",-1)),p(s("input",{id:"cpf","onUpdate:modelValue":e[0]||(e[0]=r=>t(o).cpf=r),onInput:f,class:"input",type:"text",placeholder:"123.456.789-90",autocomplete:"cpf","aria-label":"CPF"},null,544),[[m,t(o).cpf]]),n(u,{class:"mt-2",message:t(o).errors.cpf},null,8,["message"])]),s("div",A,[e[3]||(e[3]=s("label",{for:"password"},"Senha",-1)),p(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>t(o).password=r),class:"input",type:"password",placeholder:"●●●●●●●●●●●●",autocomplete:"password","aria-label":"Senha"},null,512),[[m,t(o).password]]),n(u,{class:"mt-2",message:t(o).errors.password},null,8,["message"])]),n(T,{class:y({"opacity-25":t(o).processing}),disabled:t(o).processing},{default:c(()=>e[4]||(e[4]=[x(" Acessar ")])),_:1},8,["class","disabled"]),n(t($),{href:a.route("password.request"),class:"cursor-pointer"},{default:c(()=>e[5]||(e[5]=[s("p",{class:"forgot-password"},"Esqueci minha senha",-1)])),_:1},8,["href"])],32)])])])],64))}},D=B(I,[["__scopeId","data-v-016e1b87"]]);export{D as default};
