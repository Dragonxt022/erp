import{o as l,e as u,a as e,t as _,h as b,l as I,d as m,b as d,n as L,F as q,y as M,i as N,j as T,v as K,g as O,k as Q,c as D,w as U,u as Z,Z as G}from"./app-DLahf_Hr.js";import{L as H}from"./LayoutFranqueado-fYTxNu3s.js";import{C as J}from"./CadastroContas-B-miGLOl.js";import{_ as C}from"./LabelModel-fySqtuRo.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as E}from"./ConfirmDialog-BaeTWx3P.js";import{B as R}from"./ButtonPrimaryMedio-D87LOTv3.js";import"./user-CkocNwRq.js";import"./ButtonCancelar-DITp8ZTT.js";const W=["type"],X={class:"text-center text-[15px] font-semibold font-['Figtree'] leading-tight"},Y=["src"],ee={__name:"ButtonClaroMedio",props:{text:{type:String,required:!0,default:"Nome do Botão"},type:{type:String,default:"button"},iconPath:{type:String,required:!1}},emits:["click"],setup(i,{emit:g}){const o=g,t=()=>{o("click")};return(p,y)=>(l(),u("button",{type:i.type,onClick:t,class:"h-[46px] px-[38px] py-3 rounded-[10px] shadow-[2px_2px_10px_0px_rgba(0,0,0,0.04)] flex justify-center items-center gap-2.5"},[e("span",X,_(i.text),1),i.iconPath?(l(),u("img",{key:0,src:i.iconPath,alt:"icon",class:"h-6 w-6"},null,8,Y)):b("",!0)],8,W))}},V=w(ee,[["__scopeId","data-v-3918f9aa"]]),te={class:"elemento-fixo"},ae={key:0},oe={class:"mt-8"},se={class:"w-full h-[530px] bg-white rounded-[20px] p-7 relative"},ne={class:"flex justify-between items-center"},re={class:"text-[25px] font-bold font-['Figtree'] leading-8 tracking-tight"},ie={class:"text-[#6db631] text-xl font-normal font-['Figtree'] leading-[25px] tracking-tight"},le={class:"col-span-1 row-span-2 mt-8"},ce={class:"col-span-1 row-span-2 mt-8"},de={class:"text-[#262a27] text-[12px] font-bold leading-[48px] tracking-wide"},ue=["value"],ge=["value"],me={class:"w-full h-[100px] bg-white border-gray-300 rounded-lg border-2 border-[#d7d7db] px-2 py-1 text-[14px] outline-none resize-none focus:ring-2 focus:ring-green-500"},pe={class:"flex space-x-4 mt-5"},fe={__name:"DetalhesContasApagar",props:{dados:{type:Object,required:!0}},emits:["voltar","atualiza"],setup(i,{emit:g}){const o=I(),t=i,p=g,y=m(!1);m(null);const f=m(!1),v=m(!1),x=m(""),h=a=>{x.value=a,f.value=!0},r=a=>{x.value=a,v.value=!0},s=a=>a==="pendente"?"/storage/images/check_circle_laranja.svg":"/storage/images/check_circle_verde.svg",c=a=>a==="pendente"?"text-[#FF9500] w-full bg-[#f4faf4] hover:bg-[#ffdeb1] transition duration-200 ease-in-out":"text-[#6db631] w-full bg-[#f4faf4] hover:bg-[#c1fab6] transition duration-200 ease-in-out ",k=()=>{f.value=!1,F()},B=()=>{f.value=!1},S=()=>{v.value=!1,P()},A=()=>{v.value=!1},F=async()=>{if(!t.dados||!t.dados.id){o.error("Erro: Dados da conta não encontrados.");return}try{const a=await axios.post(`/api/cursto/contas-a-pagar/${t.dados.id}/pagar`);o.success(a.data.message),t.dados.status="pago",p("atualiza")}catch(a){console.error("Erro ao pagar a conta:",a),o.error("Erro ao pagar a conta")}},P=async a=>{if(!t.dados||!t.dados.id){o.error("Erro: Dados da conta não encontrados.");return}try{const n=await axios.delete(`/api/cursto/contas-a-pagar/${t.dados.id}`);o.success("Conta excluída com sucesso"),p("voltar")}catch(n){console.error("Erro ao excluir a conta:",n)}},$=a=>{if(!a)return"";const n=a.split("-");return`${n[2]}/${n[1]}/${n[0]}`},j=()=>{if(t.dados.arquivo){const a=document.createElement("a");a.href=`/${t.dados.arquivo}`,a.download=t.dados.arquivo.split("/").pop(),a.target="_blank",a.click(),o.info("Arquivo baixado com sucesso")}else o.warning("Arquivo não encontrado"),console.error("Arquivo não encontrado")};return(a,n)=>(l(),u(q,null,[e("div",te,[y.value?b("",!0):(l(),u("div",ae,[e("div",oe,[e("div",se,[e("div",ne,[e("p",re,_(i.dados.nome),1),e("button",{class:"text-gray-500 hover:text-red-600",onClick:n[0]||(n[0]=z=>r("Excluir essa conta?"))},n[2]||(n[2]=[e("img",{src:"/storage/images/delete.svg",alt:"Excluir",class:"w-6 h-6"},null,-1)]))]),e("p",ie,_(i.dados.valor_formatado),1),n[4]||(n[4]=e("p",{class:"text-[#6d6d6d] text-[15px] font-medium font-['Figtree'] leading-[20px]"},null,-1)),e("div",le,[e("div",ce,[e("div",de,[d(C,{text:"Data emitida"}),e("input",{type:"text",id:"emitida_em",value:$(i.dados.emitida_em),name:"emitida_em",class:"w-full py-2 bg-transparent border border-gray-300 rounded-lg outline-none text-base text-center text-gray-700 focus:ring-2 focus:ring-green-500",readonly:""},null,8,ue),n[3]||(n[3]=e("div",{class:"mt-12"},null,-1)),d(C,{text:"Data de vencimento"}),e("input",{type:"text",id:"vencimento",name:"vencimento",value:$(i.dados.vencimento),class:"w-full py-2 bg-transparent border border-gray-300 rounded-lg outline-none text-base text-center text-gray-700 focus:ring-2 focus:ring-green-500",readonly:""},null,8,ge)])]),d(C,{text:"Informações adicionais"}),e("p",me,_(i.dados.descricao),1)]),e("div",pe,[d(V,{text:t.dados.status==="pendente"?"Pagar":"Pago",class:L(c(t.dados.status)),onClick:n[1]||(n[1]=z=>h("Marca como paga essa conta?")),iconPath:s(t.dados.status),disabled:t.dados.status==="pago"},null,8,["text","class","iconPath","disabled"]),d(V,{text:"Baixar boleto",class:"text-[#6db631] w-full bg-[#f4faf4] hover:bg-[#c1fab6] transition duration-200 ease-in-out",onClick:j})])])])]))]),d(E,{isVisible:f.value,motivo:x.value,onConfirm:k,onCancel:B},null,8,["isVisible","motivo"]),d(E,{isVisible:v.value,motivo:x.value,onConfirm:S,onCancel:A},null,8,["isVisible","motivo"])],64))}},ve=w(fe,[["__scopeId","data-v-ac2a3a8f"]]),xe={class:"search-container relative flex items-center w-full mb-4"},_e=["onClick"],he={class:"text-lg font-medium text-gray-900"},be={class:"text-sm text-gray-600"},ye=["src","alt"],Ce={__name:"ListarContasApagar",emits:["dado-selecionado"],setup(i,{emit:g}){const o=g,t=m([]),p=m("");M(async()=>{try{const r=await Q.get("/api/cursto/listar-contas-a-pagar");t.value=r.data.data}catch(r){console.error("Erro ao carregar os dados:",r)}});const f=r=>{o("dado-selecionado",r)},v=N(()=>{const r=p.value.toLowerCase();return t.value.filter(s=>s.nome.toLowerCase().includes(r)||String(s.valor).includes(r))}),x=r=>{const s=r.split("-");return`${s[2]}/${s[1]}/${s[0]}`},h=r=>r==="pendente"?"/storage/images/check_circle_laranja.svg":"/storage/images/check_circle_verde.svg";return(r,s)=>(l(),u("div",null,[s[2]||(s[2]=e("div",{class:"painel-title"},"Contas a pagar",-1)),s[3]||(s[3]=e("div",{class:"painel-subtitle"},[e("p",null,"Compromissos financeiros do mês vigente")],-1)),e("div",xe,[s[1]||(s[1]=e("div",{class:"absolute left-3"},[e("img",{src:"/storage/images/search.svg",alt:"Ícone de pesquisa",class:"w-5 h-5 text-gray-500"})],-1)),T(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=c=>p.value=c),placeholder:"Buscar contas",class:"search-input pl-10 w-full py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[K,p.value]])]),(l(!0),u(q,null,O(v.value,c=>(l(),u("div",{key:c.id,onClick:k=>f(c),class:"flex justify-between items-center bg-white p-4 rounded-lg cursor-pointer hover:bg-gray-100 transition mt-3"},[e("div",null,[e("p",he,_(c.nome),1),e("p",be,_(c.valor_formatado)+" - Vence em "+_(x(c.vencimento)),1)]),e("div",null,[e("img",{src:h(c.status),alt:c.status,class:"w-8 h-8"},null,8,ye)])],8,_e))),128))]))}},we=w(Ce,[["__scopeId","data-v-772e3fb2"]]),ke={key:0,class:"fixed bottom-6 right-6"},$e={key:1,class:"mt-3"},De={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-3 h-full"},Ee={key:0},Ie={__name:"Index",setup(i){const g=m(0),o=m(null),t=m(!1),p=()=>{t.value=!t.value,t.value&&(o.value=null)},y=h=>{o.value=h},f=()=>{t.value=!1,g.value+=1,console.log("cancelarCadastro")},v=()=>{o.value=null,g.value+=1},x=()=>{g.value+=1};return(h,r)=>(l(),D(H,null,{default:U(()=>[d(Z(G),{title:"Contas"}),t.value?b("",!0):(l(),u("div",ke,[d(R,{text:"Cadastrar nova conta",class:"w-full",iconPath:"/storage/images/arrow_left_alt.svg",onClick:p})])),t.value?(l(),u("div",$e,[d(J,{onVoltar:f,onAtualiza:x})])):b("",!0),t.value?b("",!0):(l(),u("div",De,[(l(),D(we,{key:g.value,ref:"listaDados",onDadoSelecionado:y})),o.value?(l(),u("div",Ee,[d(ve,{dados:o.value,onVoltar:v},null,8,["dados"])])):b("",!0)]))]),_:1}))}};export{Ie as default};
