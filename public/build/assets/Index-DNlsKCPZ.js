import{d as C,j as ve,e as F,o as S,a as l,f as U,t as k,F as N,h as W,n as V,m as G,S as J,i as he,c as xe,w as pe,b as K,u as ye,Z as me,x as be,k as ge}from"./app-DKMCxuCC.js";import{L as _e}from"./LayoutFranqueado-VLz8Ni8L.js";import{m as T,i as $,a as we,e as ke,c as te,b as p,v as Me,t as Ce,d as Se,f as Fe,A as ae,P as re,B as se,C as Q,p as De,g as Pe,D as Ae,h as Ee,j as Ie,L as Re,R as $e,k as Be,l as je,n as Te,o as Oe,q as Le,s as Ye}from"./chart-BE013gPi.js";import{d as I}from"./dayjs.min-6aUkjfpE.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-DXTdY8qo.js";/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Z=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),B={toTextLines:function(e){var r=[],t;for(e=[].concat(e);e.length;)t=e.pop(),typeof t=="string"?r.unshift.apply(r,t.split(`
`)):Array.isArray(t)?e.push.apply(e,t):$(e)||r.unshift(""+t);return r},textSize:function(e,r,t){var a=[].concat(r),s=a.length,n=e.font,o=0,i;for(e.font=t.string,i=0;i<s;++i)o=Math.max(e.measureText(a[i]).width,o);return e.font=n,{height:s*t.lineHeight,width:o}},bound:function(e,r,t){return Math.max(e,Math.min(r,t))},arrayDiff:function(e,r){var t=e.slice(),a=[],s,n,o,i;for(s=0,o=r.length;s<o;++s)i=r[s],n=t.indexOf(i),n===-1?a.push([i,1]):t.splice(n,1);for(s=0,o=t.length;s<o;++s)a.push([t[s],-1]);return a},rasterize:function(e){return Math.round(e*Z)/Z}};function H(e,r){var t=r.x,a=r.y;if(t===null)return{x:0,y:-1};if(a===null)return{x:1,y:0};var s=e.x-t,n=e.y-a,o=Math.sqrt(s*s+n*n);return{x:o?s/o:0,y:o?n/o:-1}}function Ne(e,r,t,a,s){switch(s){case"center":t=a=0;break;case"bottom":t=0,a=1;break;case"right":t=1,a=0;break;case"left":t=-1,a=0;break;case"top":t=0,a=-1;break;case"start":t=-t,a=-a;break;case"end":break;default:s*=Math.PI/180,t=Math.cos(s),a=Math.sin(s);break}return{x:e,y:r,vx:t,vy:a}}var We=0,ne=1,oe=2,ie=4,le=8;function O(e,r,t){var a=We;return e<t.left?a|=ne:e>t.right&&(a|=oe),r<t.top?a|=le:r>t.bottom&&(a|=ie),a}function Ve(e,r){for(var t=e.x0,a=e.y0,s=e.x1,n=e.y1,o=O(t,a,r),i=O(s,n,r),d,u,c;!(!(o|i)||o&i);)d=o||i,d&le?(u=t+(s-t)*(r.top-a)/(n-a),c=r.top):d&ie?(u=t+(s-t)*(r.bottom-a)/(n-a),c=r.bottom):d&oe?(c=a+(n-a)*(r.right-t)/(s-t),u=r.right):d&ne&&(c=a+(n-a)*(r.left-t)/(s-t),u=r.left),d===o?(t=u,a=c,o=O(t,a,r)):(s=u,n=c,i=O(s,n,r));return{x0:t,x1:s,y0:a,y1:n}}function L(e,r){var t=r.anchor,a=e,s,n;return r.clamp&&(a=Ve(a,r.area)),t==="start"?(s=a.x0,n=a.y0):t==="end"?(s=a.x1,n=a.y1):(s=(a.x0+a.x1)/2,n=(a.y0+a.y1)/2),Ne(s,n,e.vx,e.vy,r.align)}var Y={arc:function(e,r){var t=(e.startAngle+e.endAngle)/2,a=Math.cos(t),s=Math.sin(t),n=e.innerRadius,o=e.outerRadius;return L({x0:e.x+a*n,y0:e.y+s*n,x1:e.x+a*o,y1:e.y+s*o,vx:a,vy:s},r)},point:function(e,r){var t=H(e,r.origin),a=t.x*e.options.radius,s=t.y*e.options.radius;return L({x0:e.x-a,y0:e.y-s,x1:e.x+a,y1:e.y+s,vx:t.x,vy:t.y},r)},bar:function(e,r){var t=H(e,r.origin),a=e.x,s=e.y,n=0,o=0;return e.horizontal?(a=Math.min(e.x,e.base),n=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),o=Math.abs(e.base-e.y)),L({x0:a,y0:s+o,x1:a+n,y1:s,vx:t.x,vy:t.y},r)},fallback:function(e,r){var t=H(e,r.origin);return L({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:t.x,vy:t.y},r)}},P=B.rasterize;function He(e){var r=e.borderWidth||0,t=e.padding,a=e.size.height,s=e.size.width,n=-s/2,o=-a/2;return{frame:{x:n-t.left-r,y:o-t.top-r,w:s+t.width+r*2,h:a+t.height+r*2},text:{x:n,y:o,w:s,h:a}}}function Ue(e,r){var t=r.chart.getDatasetMeta(r.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var a=t.getBasePixel();return e.horizontal?{x:a,y:null}:{x:null,y:a}}function Ge(e){return e instanceof ae?Y.arc:e instanceof re?Y.point:e instanceof se?Y.bar:Y.fallback}function qe(e,r,t,a,s,n){var o=Math.PI/2;if(n){var i=Math.min(n,s/2,a/2),d=r+i,u=t+i,c=r+a-i,f=t+s-i;e.moveTo(r,u),d<c&&u<f?(e.arc(d,u,i,-Math.PI,-o),e.arc(c,u,i,-o,0),e.arc(c,f,i,0,o),e.arc(d,f,i,o,Math.PI)):d<c?(e.moveTo(d,t),e.arc(c,u,i,-o,o),e.arc(d,u,i,o,Math.PI+o)):u<f?(e.arc(d,u,i,-Math.PI,0),e.arc(d,f,i,0,Math.PI)):e.arc(d,u,i,-Math.PI,Math.PI),e.closePath(),e.moveTo(r,t)}else e.rect(r,t,a,s)}function Xe(e,r,t){var a=t.backgroundColor,s=t.borderColor,n=t.borderWidth;!a&&(!s||!n)||(e.beginPath(),qe(e,P(r.x)+n/2,P(r.y)+n/2,P(r.w)-n,P(r.h)-n,t.borderRadius),e.closePath(),a&&(e.fillStyle=a,e.fill()),s&&n&&(e.strokeStyle=s,e.lineWidth=n,e.lineJoin="miter",e.stroke()))}function Je(e,r,t){var a=t.lineHeight,s=e.w,n=e.x,o=e.y+a/2;return r==="center"?n+=s/2:(r==="end"||r==="right")&&(n+=s),{h:a,w:s,x:n,y:o}}function Ke(e,r,t){var a=e.shadowBlur,s=t.stroked,n=P(t.x),o=P(t.y),i=P(t.w);s&&e.strokeText(r,n,o,i),t.filled&&(a&&s&&(e.shadowBlur=0),e.fillText(r,n,o,i),a&&s&&(e.shadowBlur=a))}function Qe(e,r,t,a){var s=a.textAlign,n=a.color,o=!!n,i=a.font,d=r.length,u=a.textStrokeColor,c=a.textStrokeWidth,f=u&&c,g;if(!(!d||!o&&!f))for(t=Je(t,s,i),e.font=i.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=a.textShadowBlur,e.shadowColor=a.textShadowColor,o&&(e.fillStyle=n),f&&(e.lineJoin="round",e.lineWidth=c,e.strokeStyle=u),g=0,d=r.length;g<d;++g)Ke(e,r[g],{stroked:f,filled:o,w:t.w,x:t.x,y:t.y+t.h*g})}var de=function(e,r,t,a){var s=this;s._config=e,s._index=a,s._model=null,s._rects=null,s._ctx=r,s._el=t};T(de.prototype,{_modelize:function(e,r,t,a){var s=this,n=s._index,o=Ce(p([t.font,{}],a,n)),i=p([t.color,Se.color],a,n);return{align:p([t.align,"center"],a,n),anchor:p([t.anchor,"center"],a,n),area:a.chart.chartArea,backgroundColor:p([t.backgroundColor,null],a,n),borderColor:p([t.borderColor,null],a,n),borderRadius:p([t.borderRadius,0],a,n),borderWidth:p([t.borderWidth,0],a,n),clamp:p([t.clamp,!1],a,n),clip:p([t.clip,!1],a,n),color:i,display:e,font:o,lines:r,offset:p([t.offset,4],a,n),opacity:p([t.opacity,1],a,n),origin:Ue(s._el,a),padding:Fe(p([t.padding,4],a,n)),positioner:Ge(s._el),rotation:p([t.rotation,0],a,n)*(Math.PI/180),size:B.textSize(s._ctx,r,o),textAlign:p([t.textAlign,"start"],a,n),textShadowBlur:p([t.textShadowBlur,0],a,n),textShadowColor:p([t.textShadowColor,i],a,n),textStrokeColor:p([t.textStrokeColor,i],a,n),textStrokeWidth:p([t.textStrokeWidth,0],a,n)}},update:function(e){var r=this,t=null,a=null,s=r._index,n=r._config,o,i,d,u=p([n.display,!0],e,s);u&&(o=e.dataset.data[s],i=Me(te(n.formatter,[o,e]),o),d=$(i)?[]:B.toTextLines(i),d.length&&(t=r._modelize(u,d,n,e),a=He(t))),r._model=t,r._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,r){var t=this,a=e.ctx,s=t._model,n=t._rects,o;this.visible()&&(a.save(),s.clip&&(o=s.area,a.beginPath(),a.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),a.clip()),a.globalAlpha=B.bound(0,s.opacity,1),a.translate(P(r.x),P(r.y)),a.rotate(s.rotation),Xe(a,n.frame,s),Qe(a,s.lines,n.text,s),a.restore())}});var Ze=Number.MIN_SAFE_INTEGER||-9007199254740991,et=Number.MAX_SAFE_INTEGER||9007199254740991;function R(e,r,t){var a=Math.cos(t),s=Math.sin(t),n=r.x,o=r.y;return{x:n+a*(e.x-n)-s*(e.y-o),y:o+s*(e.x-n)+a*(e.y-o)}}function ee(e,r){var t=et,a=Ze,s=r.origin,n,o,i,d,u;for(n=0;n<e.length;++n)o=e[n],i=o.x-s.x,d=o.y-s.y,u=r.vx*i+r.vy*d,t=Math.min(t,u),a=Math.max(a,u);return{min:t,max:a}}function z(e,r){var t=r.x-e.x,a=r.y-e.y,s=Math.sqrt(t*t+a*a);return{vx:(r.x-e.x)/s,vy:(r.y-e.y)/s,origin:e,ln:s}}var ue=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};T(ue.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,r,t){this._rotation=t,this._rect={x:r.x+e.x,y:r.y+e.y,w:r.w,h:r.h}},contains:function(e){var r=this,t=1,a=r._rect;return e=R(e,r.center(),-r._rotation),!(e.x<a.x-t||e.y<a.y-t||e.x>a.x+a.w+t*2||e.y>a.y+a.h+t*2)},intersects:function(e){var r=this._points(),t=e._points(),a=[z(r[0],r[1]),z(r[0],r[3])],s,n,o;for(this._rotation!==e._rotation&&a.push(z(t[0],t[1]),z(t[0],t[3])),s=0;s<a.length;++s)if(n=ee(r,a[s]),o=ee(t,a[s]),n.max<o.min||o.max<n.min)return!1;return!0},_points:function(){var e=this,r=e._rect,t=e._rotation,a=e.center();return[R({x:r.x,y:r.y},a,t),R({x:r.x+r.w,y:r.y},a,t),R({x:r.x+r.w,y:r.y+r.h},a,t),R({x:r.x,y:r.y+r.h},a,t)]}});function ce(e,r,t){var a=r.positioner(e,r),s=a.vx,n=a.vy;if(!s&&!n)return{x:a.x,y:a.y};var o=t.w,i=t.h,d=r.rotation,u=Math.abs(o/2*Math.cos(d))+Math.abs(i/2*Math.sin(d)),c=Math.abs(o/2*Math.sin(d))+Math.abs(i/2*Math.cos(d)),f=1/Math.max(Math.abs(s),Math.abs(n));return u*=s*f,c*=n*f,u+=r.offset*s,c+=r.offset*n,{x:a.x+u,y:a.y+c}}function tt(e,r){var t,a,s,n;for(t=e.length-1;t>=0;--t)for(s=e[t].$layout,a=t-1;a>=0&&s._visible;--a)n=e[a].$layout,n._visible&&s._box.intersects(n._box)&&r(s,n);return e}function at(e){var r,t,a,s,n,o,i;for(r=0,t=e.length;r<t;++r)a=e[r],s=a.$layout,s._visible&&(i=new Proxy(a._el,{get:(d,u)=>d.getProps([u],!0)[u]}),n=a.geometry(),o=ce(i,a.model(),n),s._box.update(o,n,a.rotation()));return tt(e,function(d,u){var c=d._hidable,f=u._hidable;c&&f||f?u._visible=!1:c&&(d._visible=!1)})}var j={prepare:function(e){var r=[],t,a,s,n,o;for(t=0,s=e.length;t<s;++t)for(a=0,n=e[t].length;a<n;++a)o=e[t][a],r.push(o),o.$layout={_box:new ue,_hidable:!1,_visible:!0,_set:t,_idx:o._index};return r.sort(function(i,d){var u=i.$layout,c=d.$layout;return u._idx===c._idx?c._set-u._set:c._idx-u._idx}),this.update(r),r},update:function(e){var r=!1,t,a,s,n,o;for(t=0,a=e.length;t<a;++t)s=e[t],n=s.model(),o=s.$layout,o._hidable=n&&n.display==="auto",o._visible=s.visible(),r|=o._hidable;r&&at(e)},lookup:function(e,r){var t,a;for(t=e.length-1;t>=0;--t)if(a=e[t].$layout,a&&a._visible&&a._box.contains(r))return e[t];return null},draw:function(e,r){var t,a,s,n,o,i;for(t=0,a=r.length;t<a;++t)s=r[t],n=s.$layout,n._visible&&(o=s.geometry(),i=ce(s._el,s.model(),o),n._box.update(i,o,s.rotation()),s.draw(e,i))}},rt=function(e){if($(e))return null;var r=e,t,a,s;if(we(e))if(!$(e.label))r=e.label;else if(!$(e.r))r=e.r;else for(r="",t=Object.keys(e),s=0,a=t.length;s<a;++s)r+=(s!==0?", ":"")+t[s]+": "+e[t[s]];return""+r},st={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:rt,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},w="$datalabels",fe="$default";function nt(e,r){var t=e.datalabels,a={},s=[],n,o;return t===!1?null:(t===!0&&(t={}),r=T({},[r,t]),n=r.labels||{},o=Object.keys(n),delete r.labels,o.length?o.forEach(function(i){n[i]&&s.push(T({},[r,n[i],{_key:i}]))}):s.push(r),a=s.reduce(function(i,d){return ke(d.listeners||{},function(u,c){i[c]=i[c]||{},i[c][d._key||fe]=u}),delete d.listeners,i},{}),{labels:s,listeners:a})}function q(e,r,t,a){if(r){var s=t.$context,n=t.$groups,o;r[n._set]&&(o=r[n._set][n._key],o&&te(o,[s,a])===!0&&(e[w]._dirty=!0,t.update(s)))}}function ot(e,r,t,a,s){var n,o;!t&&!a||(t?a?t!==a&&(o=n=!0):o=!0:n=!0,o&&q(e,r.leave,t,s),n&&q(e,r.enter,a,s))}function it(e,r){var t=e[w],a=t._listeners,s,n;if(!(!a.enter&&!a.leave)){if(r.type==="mousemove")n=j.lookup(t._labels,r);else if(r.type!=="mouseout")return;s=t._hovered,t._hovered=n,ot(e,a,s,n,r)}}function lt(e,r){var t=e[w],a=t._listeners.click,s=a&&j.lookup(t._labels,r);s&&q(e,a,s,r)}var dt={id:"datalabels",defaults:st,beforeInit:function(e){e[w]={_actives:[]}},beforeUpdate:function(e){var r=e[w];r._listened=!1,r._listeners={},r._datasets=[],r._labels=[]},afterDatasetUpdate:function(e,r,t){var a=r.index,s=e[w],n=s._datasets[a]=[],o=e.isDatasetVisible(a),i=e.data.datasets[a],d=nt(i,t),u=r.meta.data||[],c=e.ctx,f,g,A,y,v,h,_,m;for(c.save(),f=0,A=u.length;f<A;++f)if(_=u[f],_[w]=[],o&&_&&e.getDataVisibility(f)&&!_.skip)for(g=0,y=d.labels.length;g<y;++g)v=d.labels[g],h=v._key,m=new de(v,c,_,f),m.$groups={_set:a,_key:h||fe},m.$context={active:!1,chart:e,dataIndex:f,dataset:i,datasetIndex:a},m.update(m.$context),_[w].push(m),n.push(m);c.restore(),T(s._listeners,d.listeners,{merger:function(E,x,b){x[E]=x[E]||{},x[E][r.index]=b[E],s._listened=!0}})},afterUpdate:function(e){e[w]._labels=j.prepare(e[w]._datasets)},afterDatasetsDraw:function(e){j.draw(e,e[w]._labels)},beforeEvent:function(e,r){if(e[w]._listened){var t=r.event;switch(t.type){case"mousemove":case"mouseout":it(e,t);break;case"click":lt(e,t);break}}},afterEvent:function(e){var r=e[w],t=r._actives,a=r._actives=e.getActiveElements(),s=B.arrayDiff(t,a),n,o,i,d,u,c,f;for(n=0,o=s.length;n<o;++n)if(u=s[n],u[1])for(f=u[0].element[w]||[],i=0,d=f.length;i<d;++i)c=f[i],c.$context.active=u[1]===1,c.update(c.$context);(r._dirty||s.length)&&(j.update(r._labels),e.render()),delete r._dirty}};const ut={class:"relative"},ct={key:0},ft={key:0,class:"absolute z-10 bg-white border rounded-xl shadow-lg w-[300px] p-4 left-[68px] transform -translate-x-1/2"},vt={class:"flex justify-between items-center mb-3"},ht={class:"font-semibold flex items-center"},xt={class:"ml-[90px]"},pt={class:"grid grid-cols-7 gap-1 text-center text-sm"},yt=["onClick"],mt={class:"mt-5"},bt={class:"flex items-center space-x-4"},gt={class:"flex items-center"},_t={class:"flex items-center"},wt={__name:"CalendarFilterDia",setup(e,{emit:r}){const t=r,a=C(!1),s=C(I()),n=C(I()),o=C(I()),i=C(!0),d=["D","S","T","Q","Q","S","S"],u=ve(()=>{const x=[],b=s.value.startOf("month"),M=n.value.endOf("month");for(let D=0;D<b.day();D++)x.push({day:"",date:null});for(let D=1;D<=M.date();D++){const X=b.date(D);x.push({day:D,date:X})}return x}),c=C(""),f=()=>{o.value=o.value.subtract(1,"month")},g=()=>{o.value=o.value.add(1,"month")},A=x=>x&&(x.isSame(s.value)||x.isSame(n.value)),y=x=>!x||!s.value||!n.value?!1:x.isAfter(s.value,"day")&&x.isBefore(n.value,"day"),v=x=>{x&&(i.value?(s.value=x.startOf("day"),i.value=!1):(n.value=x.endOf("day"),i.value=!0))},h=()=>{E(),a.value=!1},_=()=>{a.value=!a.value},m=()=>{const x=s.value.format("DD-MM-YYYY"),b=n.value.format("DD-MM-YYYY");console.log("Data inicial:",x),console.log("Data final:",b),console.log("Categoria:",c.value),t("update-filters",{startDate:x,endDate:b,periodo:c.value}),a.value=!1},E=()=>{s.value=I(),n.value=I(),c.value=""};return(x,b)=>(S(),F("div",ut,[l("div",{class:"flex items-center justify-between p-3 rounded-md cursor-pointer",onClick:_},[l("span",null,[s.value&&n.value?(S(),F("span",ct,k(s.value.format("DD/MM/YYYY"))+" - "+k(n.value.format("DD/MM/YYYY")),1)):U("",!0)])]),a.value?(S(),F("div",ft,[l("div",vt,[l("button",{onClick:f,class:"p-2 rounded hover:bg-gray-300"}," < "),l("span",ht,[l("span",null,k(o.value.format("MMM")),1),l("span",xt,k(o.value.format("YYYY")),1)]),l("button",{onClick:g,class:"p-2 rounded hover:bg-gray-300"}," > ")]),l("div",pt,[(S(),F(N,null,W(d,M=>l("div",{class:"font-semibold text-gray-600",key:M},k(M),1)),64)),(S(!0),F(N,null,W(u.value,(M,D)=>(S(),F("div",{key:D,onClick:X=>v(M.date),class:V(["p-2 rounded-full cursor-pointer",A(M.date)?"bg-[#6db631] text-white":y(M.date)?"bg-[#b3dca6]":"hover:bg-gray-200"])},k(M.day),11,yt))),128))]),l("div",mt,[l("div",bt,[l("div",gt,[G(l("input",{type:"radio",id:"almoco",value:"almoco","onUpdate:modelValue":b[0]||(b[0]=M=>c.value=M),class:V(["mr-2",{"text-[#6db631]":c.value==="almoco","border-[#6db631]":c.value==="almoco"}])},null,2),[[J,c.value]]),b[2]||(b[2]=l("label",{for:"almoco",class:"text-sm"},"Almoço",-1))]),l("div",_t,[G(l("input",{type:"radio",id:"janta",value:"janta","onUpdate:modelValue":b[1]||(b[1]=M=>c.value=M),class:V(["mr-2",{"text-[#6db631]":c.value==="janta","border-[#6db631]":c.value==="janta"}])},null,2),[[J,c.value]]),b[3]||(b[3]=l("label",{for:"janta",class:"text-sm"},"Janta",-1))])])]),l("div",{class:"w-full mt-4 flex justify-between items-center"},[l("div",{class:"h-10 rounded-full flex justify-center items-center px-3 py-2.5 cursor-pointer text-[#6db631] text-[15px] font-semibold font-['Figtree'] leading-tight",onClick:E}," Limpar "),l("div",{class:"flex gap-2"},[l("div",{class:"h-10 rounded-full flex justify-center items-center px-3 py-2.5 cursor-pointer text-[#6db631] text-[15px] font-semibold font-['Figtree'] leading-tight",onClick:h}," Cancelar "),l("div",{class:"h-10 rounded-full flex justify-center items-center px-3 py-2.5 cursor-pointer text-[#6db631] text-[15px] font-semibold font-['Figtree'] leading-tight",onClick:m}," OK ")])])])):U("",!0)]))}},kt={class:"flex justify-between items-center mb-4"},Mt={class:"text-[#262a27] text-[15px] font-semibold font-['Figtree'] leading-tight"},Ct={class:"flex items-center space-x-2"},St={class:"text-gray-900 text-[17px] font-semibold"},Ft={class:"mt-5"},Dt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-6"},Pt={class:"bg-white rounded-lg px-12 py-8"},At={class:"w-full"},Et={class:"py-3 flex items-center gap-5"},It=["src","alt"],Rt={class:"text-[#262a27] text-[17px] font-semibold font-['Figtree'] leading-snug"},$t={class:"py-3 text-right text-[#262a27] font-semibold"},Bt={class:"w-full h-[60px] bg-[#d2fac3] rounded-bl-[10px] rounded-br-[10px] px-12 flex justify-between items-center"},jt={class:"text-[#1d5915] text-xl font-bold font-['Figtree'] leading-snug"},Tt={class:"bg-white rounded-lg px-12 py-8"},Ot={class:"mb-4 text-center"},Lt={class:"mt-8"},Yt={class:"bg-white rounded-lg shadow"},zt={ref:"scrollContainer",class:"overflow-y-auto max-h-96 scroll-hidden"},Nt={class:"space-y-2"},Wt={class:"flex items-center text-gray-900 font-semibold"},Vt=["src"],Ht={class:"text-center text-gray-900 font-semibold"},Ut={class:"text-left text-gray-900 font-medium"},Gt={class:"text-center text-gray-600 font-semibold"},qt={class:"text-center text-gray-500 font-semibold"},Xt={__name:"Index",setup(e){Q.register(ae,De,Pe,Ae,Ee,Ie,Re,$e,Be,je,se,re,Te,Oe,Le,Ye,dt);const r=C([]),t=C(""),a=C([]),s=C([]),n=C([]),o=C([]),i=C("pie");let d=null;const u=y=>{switch(y){case"abertura":case"suprimento":return"/storage/images/arrow_back_verde.svg";case"fechamento":return"/storage/images/thumb_up.svg";case"sangria":return"/storage/images/arrow_back_red.svg";default:return""}},c=y=>{switch(y){case"abertura":return"Abertura";case"fechamento":return"Fechamento";case"suprimento":return"Suprimento";case"sangria":return"Sangria";default:return""}},f=y=>{console.log("Filtros atualizados:",y),g(y.startDate,y.endDate,y.periodo)},g=async(y,v,h)=>{try{const m=(await ge.get("/api/analyticos/lista-metodos-pagamentos",{params:{start_date:y,end_date:v,periodo:h||"total"}})).data;r.value=m.metodos,a.value=m.historico,t.value=m.total,n.value=m.grafico.labels,s.value=m.grafico.data,o.value=m.grafico.porcentagem,A()}catch(_){console.error("Erro ao buscar dados:",_)}},A=()=>{const y=document.getElementById("myChart").getContext("2d");d&&d.destroy();const v={type:i.value,data:{labels:n.value,datasets:[{data:s.value,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#F7464A","#FF7F50"],borderColor:i.value==="line"?"#36A2EB":void 0,borderWidth:i.value==="line"||i.value==="bar"?1:0,fill:i.value==="line"}]},options:{plugins:{tooltip:{callbacks:{label:function(h){const _=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h.raw);return h.label+": "+_}}},legend:{position:"bottom",labels:{usePointStyle:!0,padding:15,boxWidth:10}},datalabels:{anchor:"center",align:"center",color:i.value==="bar"||i.value==="line"?"#000":"#fff",font:{weight:"bold",size:14},formatter:(h,_)=>{const m=_.dataIndex;return o.value[m]},display:i.value==="pie"||i.value==="doughnut"||i.value==="polarArea"}},scales:i.value==="bar"||i.value==="line"?{x:{type:"category"},y:{beginAtZero:!0,ticks:{callback:function(h){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h)}}}}:void 0}};d=new Q(y,v)};return he(()=>{g()}),(y,v)=>(S(),xe(_e,null,{default:pe(()=>[K(ye(me),{title:"Histórico de Caixa"}),l("div",kt,[v[2]||(v[2]=l("div",null,[l("div",{class:"painel-title text-2xl sm:text-3xl md:text-4xl"}," Histórico de Caixa "),l("div",{class:"painel-subtitle"},[l("p",{class:"text-sm sm:text-base md:text-lg"}," Acompanhe seu negócio em tempo real ")])],-1)),l("div",Mt,[l("div",Ct,[v[1]||(v[1]=l("img",{src:"/storage/images/calendar_month.svg",alt:"Filtro",class:"w-5 h-5"},null,-1)),l("span",St,[K(wt,{onUpdateFilters:f})])])])]),l("div",Ft,[l("div",Dt,[l("div",null,[l("div",Pt,[l("table",At,[v[3]||(v[3]=l("thead",null,[l("tr",null,[l("th",{class:"text-gray-500 text-left text-sm sm:text-base md:text-lg font-semibold font-['Figtree'] leading-snug"}," Método de pagamento "),l("th",{class:"text-gray-500 text-right text-sm sm:text-base md:text-lg font-semibold font-['Figtree'] leading-snug"}," Valor ")])],-1)),l("tbody",null,[(S(!0),F(N,null,W(r.value,h=>(S(),F("tr",{key:h.nome},[l("td",Et,[h.img_icon?(S(),F("img",{key:0,src:`/${h.img_icon}`,alt:h.nome,class:"w-8 h-8"},null,8,It)):U("",!0),l("div",Rt,k(h.nome),1)]),l("td",$t,k(h.valor),1)]))),128))])])]),l("div",Bt,[v[4]||(v[4]=l("div",{class:"text-[#1d5915] text-xl font-bold font-['Figtree'] leading-snug"}," TOTAL ",-1)),l("div",jt,k(t.value),1)])]),l("div",null,[l("div",Tt,[l("div",Ot,[v[6]||(v[6]=l("label",{for:"chartType",class:"text-gray-700 font-semibold mr-2"}," Tipo de Gráfico: ",-1)),G(l("select",{"onUpdate:modelValue":v[0]||(v[0]=h=>i.value=h),onChange:A,id:"chartType",class:"border rounded px-2 py-1"},v[5]||(v[5]=[l("option",{value:"pie"},"Pizza (Pie)",-1),l("option",{value:"doughnut"},"Rosquinha (Doughnut)",-1),l("option",{value:"bar"},"Barras (Bar)",-1),l("option",{value:"line"},"Linha (Line)",-1),l("option",{value:"radar"},"Radar",-1),l("option",{value:"polarArea"},"Área Polar (Polar Area)",-1)]),544),[[be,i.value]])]),v[7]||(v[7]=l("canvas",{id:"myChart"},null,-1))])])])]),l("div",Lt,[v[9]||(v[9]=l("div",{class:"flex items-center justify-between mb-4"},[l("h3",{class:"text-[#262a27] text-[17px] mb-[-13px] font-semibold font-['Figtree'] leading-snug"}," Histórico de Movimentações "),l("div",{class:"flex items-center space-x-2"},[l("img",{src:"/storage/images/filter_alt.svg",alt:"Filtro",class:"w-5 h-5"})])],-1)),l("div",Yt,[v[8]||(v[8]=l("div",{class:"bg-[#164110] grid grid-cols-5 gap-4 py-4 px-6 text-xs font-semibold text-[#FFFFFF] uppercase tracking-wider rounded-tl-2xl rounded-tr-2xl"},[l("span",{class:"text-left px-5"},"OPERAÇÃO"),l("span",{class:"text-center"},"VALOR"),l("span",{class:"text-left"},"HORA"),l("span",{class:"text-center"},"MOTIVO"),l("span",{class:"text-center"},"RESPONSÁVEL")],-1)),l("div",zt,[l("ul",Nt,[(S(!0),F(N,null,W(a.value,h=>(S(),F("li",{key:h.hora,class:"hover:bg-gray-200 grid grid-cols-5 gap-2 px-6 py-3 text-[16px]"},[l("span",Wt,[l("img",{src:u(h.operacao),alt:"icon",class:"mr-3 w-5 h-5"},null,8,Vt),l("span",null,k(c(h.operacao)),1)]),l("span",Ht,k(h.valor),1),l("span",Ut,k(h.hora),1),l("span",Gt,k(h.motivo),1),l("span",qt,k(h.responsavel),1)]))),128))])],512)])])]),_:1}))}},aa=ze(Xt,[["__scopeId","data-v-a57273d2"]]);export{aa as default};
