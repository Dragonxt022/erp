import{L as w}from"./LayoutFranqueado-CcGFhCC8.js";import{d as n,y,i as b,o as t,e as l,a as e,j as k,v as D,F as x,g as C,t as m,k as L,c as p,w as B,b as F,u as H,Z as P,h as _}from"./app-CgGA6uee.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{D as S}from"./DetalhesHistoricoPedidos-BHNtsJ39.js";import"./user-D2kQyfPB.js";const V={class:"search-container relative flex items-center w-full mb-4"},$=["onClick"],I={class:"w-[110.73px] h-[24.32px] text-[#262a27] text-[17px] font-semibold font-['Figtree'] leading-snug"},j={class:"text-[20px]"},q={class:"w-[400px] h-[17.68px] text-[#6d6d6d] text-[13px] font-medium font-['Figtree'] leading-[20px]"},N={__name:"ListadoHistoricoPedido",emits:["dado-selecionado"],setup(g,{emit:r}){const c=r,d=n([]),i=n("");y(async()=>{try{const s=await L.get("/api/historico/lista");d.value=Object.values(s.data)}catch(s){console.error("Erro ao carregar os dados:",s)}});const f=s=>{c("dado-selecionado",s)},h=b(()=>{const s=i.value.toLowerCase();return d.value.filter(o=>String(o.id).toLowerCase().includes(s)||o.fornecedor_nome.toLowerCase().includes(s))});return(s,o)=>(t(),l("div",null,[o[2]||(o[2]=e("div",{class:"painel-title"},"Histórico de pedidos",-1)),o[3]||(o[3]=e("div",{class:"painel-subtitle"},[e("p",null,"Visualize pedidos já realizados com fornecedores")],-1)),e("div",V,[o[1]||(o[1]=e("div",{class:"absolute left-3"},[e("img",{src:"/storage/images/search.svg",alt:"Ícone de pesquisa",class:"w-5 h-5 text-gray-500"})],-1)),k(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a),placeholder:"Buscar de pedidos",class:"search-input pl-10 w-full py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[D,i.value]])]),(t(!0),l(x,null,C(h.value,a=>(t(),l("div",{key:a.id,onClick:Q=>f(a),class:"w-full h-[63px] p-3 mt-4 px-[30px] bg-white rounded-[10px] shadow-[0px_0px_1px_0px_rgba(142,142,142,0.08)] cursor-pointer"},[e("div",I,[e("p",j,"# "+m(a.id),1)]),e("div",q,m(a.fornecedor_nome),1)],8,$))),128))]))}},z=v(N,[["__scopeId","data-v-bf6486dd"]]),E={class:"grid grid-cols-1 gap-[3rem] mt-3 sm:grid-cols-2 card-container h-full overflow-hidden"},M={key:0},K={class:"flex flex-col gap-4"},O={__name:"Index",setup(g){const r=n(null),c=n(0),d=n(!1),i=u=>{r.value=u};return(u,f)=>(t(),p(w,null,{default:B(()=>[F(H(P),{title:"Histórico de Pedidos"}),e("div",E,[d.value?_("",!0):(t(),l("div",M,[(t(),p(z,{key:c.value,ref:"listaDados",onDadoSelecionado:i}))])),e("div",K,[d.value?_("",!0):(t(),l(x,{key:0},[r.value?(t(),p(S,{key:0,dados:r.value},null,8,["dados"])):_("",!0)],64))])])]),_:1}))}},J=v(O,[["__scopeId","data-v-b9a5baa2"]]);export{J as default};
