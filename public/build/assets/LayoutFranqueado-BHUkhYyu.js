import{y as F,i as f,o as l,e as c,a as e,t as b,d as S,m as L,D as y,c as M,w as x,n as p,h as P,p as $,u as I,A as C,F as w,g as q,b as k,N as U,Z as V,r as R}from"./app-BZjZIgR3.js";import{u as D}from"./user-CArEvR6n.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={setup(){const s=D();F(async()=>{s.user||await s.fetchUserProfile()});const a=f(()=>s.user),o=f(()=>{var t;return(t=s.user)==null?void 0:t.unidade}),r=f(()=>{var t,i;return((t=a.value)==null?void 0:t.profile_photo_url)||`https://ui-avatars.com/api/?name=${m((i=a.value)==null?void 0:i.name)}&color=7F9CF5&background=EBF4FF`});function m(t){return t?t.split(" ").map(n=>n.charAt(0).toUpperCase()).join(""):"*"}return{user:a,profilePhoto:r,unidade:o}}},H={class:"navbar"},O={class:"navbar-content"},j={class:"navbar-left"},J={class:"navbar-logo"},z=["href"],K={class:"navbar-right"},Q={class:"user-info"},W=["src"],Z={class:"user-details"},X={class:"user-name"},Y={class:"user-location"};function ee(s,a,o,r,m,t){var i,u;return l(),c("div",H,[a[2]||(a[2]=e("div",{class:"navbar-background"},null,-1)),e("div",O,[e("div",j,[e("div",J,[a[1]||(a[1]=e("div",{class:"mr-4"},[e("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[e("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),e("div",null,[e("a",{href:s.route("franqueado.painel")},a[0]||(a[0]=[e("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,z)])])]),e("div",K,[e("div",Q,[e("img",{src:r.profilePhoto,alt:"Avatar",class:"avatar"},null,8,W),e("div",Z,[e("div",X,b((i=r.user)==null?void 0:i.name),1),e("div",Y,b(((u=r.unidade)==null?void 0:u.cidade)||"Taiksu Franchising"),1)])])])])])}const se=_(G,[["render",ee],["__scopeId","data-v-4555e6c1"]]),ae={class:"icon"},te=["src"],oe={class:"label"},ne={type:"submit",class:"w-full h-full flex items-center"},ie={class:"icon"},le=["src"],re={class:"label"},ue={class:"label"},ce={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean,submenuItems:{type:Array,default:()=>[]}},setup(s){const a=s,o=S(!1),r=S(null),m=f(()=>o.value),t=()=>{r.value&&(clearTimeout(r.value),r.value=null),o.value=!0},i=()=>{r.value=setTimeout(()=>{o.value=!1,n()},200)},u=()=>{const d=localStorage.getItem(`submenu-${a.link}`);d!==null&&(o.value=JSON.parse(d))},n=()=>{localStorage.setItem(`submenu-${a.link}`,JSON.stringify(o.value))},N=()=>{o.value=!o.value,n()},T=f(()=>h.value||a.isActive?"submenu-active":""),A=d=>{const v=window.location.pathname,g=new URL(route(d),window.location.origin).pathname;return v===g},h=f(()=>a.submenuItems.some(d=>A(d.link))),B=()=>{a.isLogout&&U.post(route("logout"))};return u(),L(h,()=>{h.value||y(()=>{o.value=!1,n()})}),L(o,d=>{y(()=>{n()})}),(d,v)=>(l(),c("div",null,[!s.isLogout&&s.link?(l(),M(I(C),{key:0,class:p(["menu-item",[T.value,{active:s.isActive||h.value}]]),href:s.link||"#",onClick:v[0]||(v[0]=$(g=>s.link&&N,["prevent"])),onMouseenter:t,onMouseleave:i},{default:x(()=>[e("div",ae,[e("img",{src:s.icon,alt:"icon"},null,8,te)]),e("div",oe,b(s.label),1),s.submenuItems&&s.submenuItems.length>0?(l(),c("div",{key:0,class:p(["right-icon",{"rotate-icon":m.value}])},v[1]||(v[1]=[e("img",{src:"/storage/images/arrow_drop_down.svg",alt:"arrow icon"},null,-1)]),2)):P("",!0)]),_:1},8,["class","href"])):(l(),c("form",{key:1,onSubmit:$(B,["prevent"]),class:"menu-item"},[e("button",ne,[e("div",ie,[e("img",{src:s.icon,alt:"icon"},null,8,le)]),e("div",re,b(s.label),1)])],32)),s.submenuItems&&s.submenuItems.length>0&&(o.value||h.value)?(l(),c("div",{key:2,class:"submenu",onMouseenter:t,onMouseleave:i},[(l(!0),c(w,null,q(s.submenuItems,(g,E)=>(l(),c("div",{key:E},[k(I(C),{class:p(["submenu-item",{active:A(g.link)}]),href:d.route(g.link)},{default:x(()=>[e("div",ue,b(g.label),1)]),_:2},1032,["href","class"])]))),128))],32)):P("",!0)]))}},de=_(ce,[["__scopeId","data-v-bb3e6a9a"]]),me={class:"category-title menu-categorias text-sm sm:text-base font-medium text-[#87ba73] mb-3 pl-4"},ve={__name:"Slidebar",setup(s){const a=S(null),o=[{name:"",items:[{label:"Inicio",icon:"/storage/images/inicio.svg",link:"franqueado.painel",isLogout:!1,isActive:!1}]},{name:"Gestão da loja",items:[{label:"Controle de estoque",icon:"/storage/images/estoque.svg",link:"franqueado.estoque",isLogout:!1,submenuItems:[{label:"Inventário",icon:"/storage/images/add_product.svg",link:"franqueado.inventario"},{label:"Fornecedores",link:"franqueado.fornecedores"},{label:"Novo Pedidos",link:"franqueado.pedidos"},{label:"Histórico de Pedidos",link:"franqueado.historicoPedidos"}],isActive:!1},{label:"Supervisão de resíduos",icon:"/storage/images/delete_branco.svg",link:"franqueado.supervisaoResidos",isLogout:!1,isActive:!1},{label:"Gestão de equipe",icon:"/storage/images/gestao_servisos.svg",link:"franqueado.gestaoEquipe",isLogout:!1,submenuItems:[{label:"Controle de ponto",icon:"/storage/images/add_product.svg",link:"franqueado.controlePonto"},{label:"Folha de pagamento",link:"franqueado.folhaPagamento"}],isActive:!1},{label:"DRE Gerencial",icon:"/storage/images/analitic.svg",link:"franqueado.dreGerencial",isLogout:!1,isActive:!1},{label:"Taiksu IA",icon:"/storage/images/TAIKSU_IA_ICONE.svg",link:"franqueado.midias",isLogout:!1,isActive:!1}]},{name:"Financeiro",items:[{label:"Fluxo de caixa",icon:"/storage/images/fluxo_caixa.svg",link:"franqueado.abrirCaixa",isLogout:!1,submenuItems:[{label:"Métodos de pagamento",link:"franqueado.metodosPagamentos"},{label:"Canais de Vendas",link:"franqueado.canaisVendas"},{label:"Histórico de Caixa",link:"franqueado.historicoCaixa"}],isActive:!1},{label:"Contas a pagar",icon:"/storage/images/attach_money.svg",link:"franqueado.contasApagar",isLogout:!1,submenuItems:[{label:"Histórico de Despesas",link:"franqueado.historicoContas"}],isActive:!1}]},{name:"",items:[{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];F(()=>{const t=localStorage.getItem("sidebarScrollPosition");t&&a.value&&(a.value.scrollTop=t)});const r=()=>{a.value&&localStorage.setItem("sidebarScrollPosition",a.value.scrollTop)},m=t=>{const i=window.location.pathname,u=new URL(t,window.location.origin).pathname;return i===u||i.startsWith(u)};return(t,i)=>(l(),c("div",null,[e("div",{class:"sidebar fixed top-16 left-0 bg-[#164110] text-white flex flex-col p-3 overflow-y-auto h-full sm:w-64 md:w-72 lg:w-80 xl:w-80",ref_key:"sidebar",ref:a,onScroll:r},[(l(),c(w,null,q(o,u=>e("div",{key:u.name,class:"menu-category mb-6"},[e("div",me,b(u.name),1),(l(!0),c(w,null,q(u.items,n=>(l(),M(de,{key:n.link||"no-link",label:n.label,icon:n.icon,link:n.link?t.route(n.link):null,submenuItems:n.submenuItems,isActive:n.link?m(t.route(n.link)):!1,isLogout:n.isLogout},null,8,["label","icon","link","submenuItems","isActive","isLogout"]))),128))])),64))],544)]))}},ge=_(ve,[["__scopeId","data-v-5b06c7e4"]]),fe={class:"content"},be={__name:"LayoutFranqueado",props:{title:String},setup(s){return(a,o)=>(l(),c("div",null,[k(I(V),{title:s.title},null,8,["title"]),k(se),k(ge),e("main",fe,[R(a.$slots,"default",{},void 0,!0)])]))}},Se=_(be,[["__scopeId","data-v-d4397c97"]]);export{Se as L};
