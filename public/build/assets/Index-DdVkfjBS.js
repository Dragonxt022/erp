import{l as N,d as f,o as a,e as u,a as s,t as b,j as M,s as S,F as C,g as D,b as t,h as _,y as q,k as L,c as k,w as I,u as P,Z as G}from"./app-CWimtUjE.js";import{L as A}from"./LayoutFranqueado-DEIz9sQi.js";import{C as K}from"./ButtonClaroMedio.vue_vue_type_style_index_0_scoped_3918f9aa_lang-K-Qd8UhT.js";import{_ as g}from"./LabelModel-9GwA1Z9Q.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as $}from"./ConfirmDialog-RVCnsNsj.js";import{D as y}from"./Deslizante-CkIGwMOO.js";import{B as O}from"./ButtonPrimaryMedio-C7i-0Ft-.js";import"./user-Gbq2KWrp.js";import"./ButtonCancelar-B3aj8X0a.js";const R={class:"elemento-fixo"},T={key:0},Z={class:"w-full h-[300px] bg-white rounded-tl-[20px] rounded-tr-[20px] p-7 relative"},H={class:"flex justify-between items-center"},J={class:"w-1/1 flex justify-center"},Q=["src"],W={class:"w-2/3"},X={class:"text-[#262a27] text-[28px] font-bold font-['Figtree'] leading-[30px] tracking-tight"},Y=["value"],ss={class:"grid grid-cols-2 gap-4 mt-8"},es={class:"w-full h-[44px] bg-white border-gray-300 rounded-lg border-2 border-[#d7d7db] p-2 text-base font-bold text-gray-800 focus:ring-2 focus:ring-green-500"},ts={class:"flex justify-between items-center mt-5 w-full p-1"},os={class:"flex flex-col w-2/3"},as={class:"w-1/2 flex justify-end"},ls={class:"bg-[#d9d9d9] p-3 px-8 w-full rounded-bl-[20px] rounded-br-[20px]"},is={class:"flex justify-between items-center"},ns={class:"flex flex-col w-2/3"},rs={class:"w-1/2 flex justify-end"},ds={class:"flex justify-between items-center"},us={class:"flex flex-col w-2/3"},cs={class:"w-1/2 flex justify-end"},fs={class:"flex justify-between items-center"},ms={class:"flex flex-col w-2/3"},vs={class:"w-1/2 flex justify-end"},gs={__name:"DetalhesColaborador",props:{dados:{type:Object,required:!0}},emits:["voltar","atualiza"],setup(m,{emit:v}){const c=N(),o=m,h=v,p=f(!1);f(null);const l=f(!1),n=f(!1),r=f(""),x=f(["função 1","Função 2","Função 3"]),w=i=>{r.value=i,n.value=!0},j=()=>{l.value=!1,pagarConta()},E=()=>{l.value=!1},V=()=>{n.value=!1,z()},U=()=>{n.value=!1},z=async i=>{if(!o.dados||!o.dados.id){c.error("Erro: Dados da conta não encontrados.");return}try{const e=await axios.delete(`/api/cursto/contas-a-pagar/${o.dados.id}`);c.success("Conta excluída com sucesso"),h("voltar")}catch(e){console.error("Erro ao excluir a conta:",e)}};return(i,e)=>(a(),u(C,null,[s("div",R,[p.value?_("",!0):(a(),u("div",T,[s("div",null,[s("div",Z,[s("div",H,[s("div",J,[s("img",{src:m.dados.profile_photo_url||"/storage/images/default-profile.png",alt:"Foto do Usuário",class:"w-20 h-20 rounded-md shadow-sm"},null,8,Q)]),s("div",W,[s("div",X,b(m.dados.name||"N/A"),1),M(s("select",{"onUpdate:modelValue":e[0]||(e[0]=d=>m.dados.cago=d),class:"w-72 h-[44px] bg-[#F3F8F3] border-gray-100 rounded-lg border-2 border-[#d7d7db] p-2 text-base text-[#6DB631] font-bold focus:ring-2 focus:ring-green-500 mt-2"},[e[5]||(e[5]=s("option",{value:"",disabled:""},"Selecione um cargo",-1)),(a(!0),u(C,null,D(x.value,(d,B)=>(a(),u("option",{key:B,value:d,class:"text-base bg-[#F3F8F3] font-bold text-[#6DB631] border-gray-100"},b(d),9,Y))),128))],512),[[S,m.dados.cago]])]),s("button",{class:"text-gray-500 hover:text-red-600",onClick:e[1]||(e[1]=d=>w("Excluir essa conta?"))},e[6]||(e[6]=[s("img",{src:"/storage/images/delete.svg",alt:"Excluir",class:"w-6 h-6"},null,-1)]))]),s("div",ss,[s("div",null,[t(g,{text:"E-mail"}),s("p",es,b(m.dados.email),1)]),s("div",null,[t(g,{text:"Salário"}),e[7]||(e[7]=s("p",{class:"w-full h-[44px] bg-white border-gray-300 rounded-lg border-2 border-[#d7d7db] p-2 text-base font-bold text-gray-800 focus:ring-2 focus:ring-green-500"}," R$ 0,00 ",-1))])]),s("div",ts,[s("div",os,[t(g,{class:"font-semibold text-gray-900",text:"Permissões"})]),s("div",as,[t(g,{class:"font-semibold text-gray-900",text:"*** PIN"})])])]),s("div",ls,[s("div",is,[s("div",ns,[t(g,{class:"font-semibold text-gray-900",text:"Nome da permissão 1"})]),s("div",rs,[t(y,{status:i.status,"onUpdate:status":e[2]||(e[2]=d=>i.status=d),onClick:i.atualizarMetodo},null,8,["status","onClick"])])]),s("div",ds,[s("div",us,[t(g,{class:"font-semibold text-gray-900",text:"Nome da permissão 2"})]),s("div",cs,[t(y,{status:i.status,"onUpdate:status":e[3]||(e[3]=d=>i.status=d),onClick:i.atualizarMetodo},null,8,["status","onClick"])])]),s("div",fs,[s("div",ms,[t(g,{class:"font-semibold text-gray-900",text:"Nome da permissão 3"})]),s("div",vs,[t(y,{status:i.status,"onUpdate:status":e[4]||(e[4]=d=>i.status=d),onClick:i.atualizarMetodo},null,8,["status","onClick"])])])])])]))]),t($,{isVisible:l.value,motivo:r.value,onConfirm:j,onCancel:E},null,8,["isVisible","motivo"]),t($,{isVisible:n.value,motivo:r.value,onConfirm:V,onCancel:U},null,8,["isVisible","motivo"])],64))}},ps=F(gs,[["__scopeId","data-v-ef0caa80"]]),xs=["onClick"],_s=["src"],bs={class:"text-lg font-medium text-gray-900"},hs={class:"text-sm text-gray-600"},ys={__name:"ListarColaboradores",emits:["usuario-selecionado"],setup(m,{emit:v}){const c=v,o=f([]);q(async()=>{try{const l=await L.get("/api/usuarios/colaboradores");o.value=l.data}catch(l){console.error("Erro ao carregar os usuários:",l)}});const p=l=>{c("usuario-selecionado",l)};return(l,n)=>(a(),u("div",null,[n[0]||(n[0]=s("div",{class:"painel-title"},"Gestão de equipe",-1)),n[1]||(n[1]=s("div",{class:"painel-subtitle"},[s("p",null,"Gerencie a sua equipe e permissões aqui")],-1)),(a(!0),u(C,null,D(o.value,r=>(a(),u("div",{key:r.id,onClick:x=>p(r),class:"flex items-center bg-white p-4 rounded-lg cursor-pointer hover:bg-gray-100 transition mt-3"},[s("img",{src:r.profile_photo_url,alt:"Foto de perfil",class:"w-12 h-12 object-cover mr-4"},null,8,_s),s("div",null,[s("p",bs,b(r.name),1),s("p",hs,b(r.email),1)])],8,xs))),128))]))}},Cs=F(ys,[["__scopeId","data-v-94baead2"]]),ws={key:0,class:"fixed bottom-6 right-6"},ks={key:1,class:"mt-3"},$s={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-3 h-full"},Ds={key:0},qs={__name:"Index",setup(m){const v=f(0),c=f(null),o=f(!1),h=()=>{o.value=!o.value,o.value&&(c.value=null)},p=x=>{c.value=x},l=()=>{o.value=!1,v.value+=1,console.log("cancelarCadastro")},n=()=>{c.value=null,v.value+=1},r=()=>{v.value+=1};return(x,w)=>(a(),k(A,null,{default:I(()=>[t(P(G),{title:"Gestão de Equipe"}),o.value?_("",!0):(a(),u("div",ws,[t(O,{text:"Cadastrar colaborador",class:"w-full",iconPath:"/storage/images/arrow_left_alt.svg",onClick:h})])),o.value?(a(),u("div",ks,[t(K,{onVoltar:l,onAtualiza:r})])):_("",!0),o.value?_("",!0):(a(),u("div",$s,[(a(),k(Cs,{key:v.value,ref:"listaDados",onUsuarioSelecionado:p})),c.value?(a(),u("div",Ds,[t(ps,{dados:c.value,onVoltar:n},null,8,["dados"])])):_("",!0)]))]),_:1}))}};export{qs as default};
