import{T as p,d as c,o as d,e as u,b as l,u as a,Z as g,a as s,p as f,j as v,v as _,t as b,h as x,w,f as q,n as y,F as B}from"./app-XQNgxGVt.js";import{B as N}from"./ButtonPrimary-D6pY8pKt.js";import{_ as h}from"./InputError-7ZPBEiyl.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"login-container"},T={class:"login-box"},V={class:"login-box-inner"},C={class:"input-container"},I={key:0,class:"mb-4 font-medium text-sm text-red-600 text-center"},P={__name:"LoginEstoque",props:{canResetPassword:Boolean,status:String},setup(A){const t=p({pin:""}),o=c(null),m=async()=>{var i,e,r;o.value=null;try{const n=await t.post(route("login.estoque"),{onFinish:()=>t.reset("pin")});(i=n.data)!=null&&i.redirect&&(window.location.href=n.data.redirect)}catch(n){((e=n.response)==null?void 0:e.status)===403?o.value="Acesso negado ao controle de estoque.":((r=n.response)==null?void 0:r.status)===401?o.value="PIN inválido.":o.value="Ocorreu um erro inesperado. Tente novamente."}};return(i,e)=>(d(),u(B,null,[l(a(g),{title:"Acessar"}),s("div",S,[e[4]||(e[4]=s("img",{class:"background-img transform scale-x-[-1]",src:"/storage/images/mulher_login_estoque.png",alt:"Imagem de fundo representando uma mulher usando um computador"},null,-1)),e[5]||(e[5]=s("img",{class:"logo-img",src:"/storage/images/logo_tipo.png",alt:"Logo do Taiksu"},null,-1)),s("div",T,[s("div",V,[e[3]||(e[3]=s("div",{class:"title-container"},[s("div",{class:"title"},"Controle de estoque"),s("div",{class:"subtitle"},"Registro de retirada em estoque da loja.")],-1)),s("form",{onSubmit:f(m,["prevent"])},[s("div",C,[e[1]||(e[1]=s("label",{for:"pin"},"Seu PIN",-1)),v(s("input",{id:"pin","onUpdate:modelValue":e[0]||(e[0]=r=>a(t).pin=r),class:"input",type:"pin",placeholder:"●●●●",autocomplete:"off","aria-label":"Senha"},null,512),[[_,a(t).pin]]),l(h,{class:"mt-2 text-center",message:a(t).errors.pin},null,8,["message"])]),o.value?(d(),u("div",I,b(o.value),1)):x("",!0),l(N,{class:y({"opacity-25":a(t).processing}),disabled:a(t).processing},{default:w(()=>e[2]||(e[2]=[q(" Acessar ")])),_:1},8,["class","disabled"])],32)])])])],64))}},j=k(P,[["__scopeId","data-v-b5bd07b2"]]);export{j as default};
