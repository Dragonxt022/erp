import{y as C,i as b,o as u,e as c,a as e,t as f,d as p,m as A,D as L,c as F,w as x,n as y,p as $,u as S,A as P,F as w,g as I,b as h,h as B,N as E,Z as U,r as V}from"./app-CgGA6uee.js";import{u as O}from"./user-D2kQyfPB.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={setup(){const a=O();C(async()=>{a.user||await a.fetchUserProfile()});const s=b(()=>a.user),t=b(()=>{var o;return(o=a.user)==null?void 0:o.unidade}),l=b(()=>{var o,r;return((o=s.value)==null?void 0:o.profile_photo_url)||`https://ui-avatars.com/api/?name=${m((r=s.value)==null?void 0:r.name)}&color=7F9CF5&background=EBF4FF`});function m(o){return o?o.split(" ").map(n=>n.charAt(0).toUpperCase()).join(""):"*"}return{user:s,profilePhoto:l,unidade:t}}},j={class:"navbar"},D={class:"navbar-content"},G={class:"navbar-left"},H={class:"navbar-logo"},J=["href"],z={class:"navbar-right"},K={class:"user-info"},Q=["src"],W={class:"user-details"},Z={class:"user-name"},X={class:"user-location"};function Y(a,s,t,l,m,o){var r,i;return u(),c("div",j,[s[3]||(s[3]=e("div",{class:"navbar-background"},null,-1)),e("div",D,[e("div",G,[e("div",H,[s[1]||(s[1]=e("div",{class:"mr-4"},[e("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[e("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),e("div",null,[e("a",{href:a.route("franqueado.painel")},s[0]||(s[0]=[e("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,J)])])]),e("div",z,[s[2]||(s[2]=e("div",{class:"notification"},[e("div",{class:"circle"},[e("img",{src:"/storage/images/icon_notification.svg",alt:"icone notificação"})]),e("div",{class:"inner-circle"})],-1)),e("div",K,[e("img",{src:l.profilePhoto,alt:"Avatar",class:"avatar"},null,8,Q),e("div",W,[e("div",Z,f((r=l.user)==null?void 0:r.name),1),e("div",X,f(((i=l.unidade)==null?void 0:i.cidade)||"Taiksu Franchising"),1)])])])])])}const ee=k(R,[["render",Y],["__scopeId","data-v-7f7da930"]]),se={class:"icon"},ae=["src"],oe={class:"label"},te={type:"submit",class:"w-full h-full flex items-center"},ie={class:"icon"},ne=["src"],le={class:"label"},re={key:2,class:"submenu"},ue={class:"label"},ce={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean,submenuItems:{type:Array,default:()=>[]}},setup(a){const s=a,t=p(!1),l=p(null),m=()=>{l.value&&(clearTimeout(l.value),l.value=null),t.value=!0},o=()=>{l.value=setTimeout(()=>{t.value=!1,i()},4e3)},r=()=>{const d=localStorage.getItem(`submenu-${s.link}`);d!==null&&(t.value=JSON.parse(d))},i=()=>{localStorage.setItem(`submenu-${s.link}`,JSON.stringify(t.value))},n=()=>{t.value=!t.value,i()},M=b(()=>g.value||s.isActive?"submenu-active":""),q=d=>{const _=window.location.pathname,v=new URL(route(d),window.location.origin).pathname;return _===v},g=b(()=>s.submenuItems.some(d=>q(d.link))),N=()=>{s.isLogout&&E.post(route("logout"))};return r(),A(g,()=>{g.value||L(()=>{t.value=!1,i()})}),A(t,d=>{L(()=>{i()})}),(d,_)=>(u(),c("div",null,[!a.isLogout&&a.link?(u(),F(S(P),{key:0,class:y(["menu-item",[M.value,{active:a.isActive||g.value}]]),href:a.link||"#",onClick:_[0]||(_[0]=$(v=>a.link&&n,["prevent"])),onMouseenter:m,onMouseleave:o},{default:x(()=>[e("div",se,[e("img",{src:a.icon,alt:"icon"},null,8,ae)]),e("div",oe,f(a.label),1)]),_:1},8,["class","href"])):(u(),c("form",{key:1,onSubmit:$(N,["prevent"]),class:"menu-item"},[e("button",te,[e("div",ie,[e("img",{src:a.icon,alt:"icon"},null,8,ne)]),e("div",le,f(a.label),1)])],32)),a.submenuItems&&a.submenuItems.length>0&&(t.value||g.value)?(u(),c("div",re,[(u(!0),c(w,null,I(a.submenuItems,(v,T)=>(u(),c("div",{key:T},[h(S(P),{class:y(["submenu-item",{active:q(v.link)}]),href:d.route(v.link)},{default:x(()=>[e("div",ue,f(v.label),1)]),_:2},1032,["href","class"])]))),128))])):B("",!0)]))}},de=k(ce,[["__scopeId","data-v-fa886ce2"]]),me={class:"category-title menu-categorias text-sm sm:text-base font-medium text-[#87ba73] mb-3 pl-4"},ve={__name:"Slidebar",setup(a){const s=p(null),t=[{name:"",items:[{label:"Inicio",icon:"/storage/images/inicio.svg",link:"franqueado.painel",isLogout:!1,isActive:!1}]},{name:"Ferramentas",items:[{label:"E-mail",icon:"/storage/images/email.svg",link:"franqueado.email",isLogout:!1,isActive:!1},{label:"Comunidade",icon:"/storage/images/diversity_4.svg",link:"franqueado.comunidade",isLogout:!1,isActive:!1},{label:"Mídias",icon:"/storage/images/perm_media.svg",link:"franqueado.midias",isLogout:!1,isActive:!1}]},{name:"Gestão da loja",items:[{label:"Controle de estoque",icon:"/storage/images/estoque.svg",link:"franqueado.estoque",isLogout:!1,submenuItems:[{label:"Inventário",icon:"/storage/images/add_product.svg",link:"franqueado.inventario"},{label:"Fornecedores",link:"franqueado.fornecedores"},{label:"Novo Pedidos",link:"franqueado.pedidos"},{label:"Histórico de Pedidos",link:"franqueado.historicoPedidos"}],isActive:!1},{label:"Supervisão de resíduos",icon:"/storage/images/delete_branco.svg",link:"franqueado.supervisaoResidos",isLogout:!1,isActive:!1},{label:"Gestão de equipe",icon:"/storage/images/gestao_servisos.svg",link:"franqueado.gestaoEquipe",isLogout:!1,submenuItems:[{label:"Controle de ponto",icon:"/storage/images/add_product.svg",link:"franqueado.controlePonto"},{label:"Folha de pagamento",link:"franqueado.folhaPagamento"}],isActive:!1},{label:"Taiksu IA",icon:"/storage/images/TAIKSU_IA_ICONE.svg",link:"franqueado.midias",isLogout:!1,isActive:!1}]},{name:"Financeiro",items:[{label:"Fluxo de caixa",icon:"/storage/images/fluxo_caixa.svg",link:"franqueado.fluxoCaixa",isLogout:!1,submenuItems:[{label:"Métodos de pagamento",icon:"/storage/images/add_product.svg",link:"franqueado.metodosPagamentos"},{label:"Canais de Vendas",link:"franqueado.canaisVendas"},{label:"Histórico de Caixa",link:"franqueado.historicoCaixa"}],isActive:!1}]},{name:"",items:[{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];C(()=>{const o=localStorage.getItem("sidebarScrollPosition");o&&s.value&&(s.value.scrollTop=o)});const l=()=>{s.value&&localStorage.setItem("sidebarScrollPosition",s.value.scrollTop)},m=o=>{const r=window.location.pathname,i=new URL(o,window.location.origin).pathname;return r===i||r.startsWith(i)};return(o,r)=>(u(),c("div",null,[e("div",{class:"sidebar fixed top-16 left-0 bg-[#164110] text-white flex flex-col p-3 overflow-y-auto h-full sm:w-64 md:w-72 lg:w-80 xl:w-80",ref_key:"sidebar",ref:s,onScroll:l},[(u(),c(w,null,I(t,i=>e("div",{key:i.name,class:"menu-category mb-6"},[e("div",me,f(i.name),1),(u(!0),c(w,null,I(i.items,n=>(u(),F(de,{key:n.link||"no-link",label:n.label,icon:n.icon,link:n.link?o.route(n.link):null,submenuItems:n.submenuItems,isActive:n.link?m(o.route(n.link)):!1,isLogout:n.isLogout},null,8,["label","icon","link","submenuItems","isActive","isLogout"]))),128))])),64))],544)]))}},fe=k(ve,[["__scopeId","data-v-f97be433"]]),ge={class:"content"},be={__name:"LayoutFranqueado",props:{title:String},setup(a){return(s,t)=>(u(),c("div",null,[h(S(U),{title:a.title},null,8,["title"]),h(ee),h(fe),e("main",ge,[V(s.$slots,"default",{},void 0,!0)])]))}},Se=k(be,[["__scopeId","data-v-1956f7d2"]]);export{Se as L};
