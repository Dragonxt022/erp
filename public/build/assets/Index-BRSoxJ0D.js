import{l as P,d as m,o as s,e as l,a as e,t as b,j as L,s as M,F as y,g as w,b as n,h as _,y as N,k as G,c as E,w as I,u as A,Z as O}from"./app-emaedWdA.js";import{L as R}from"./LayoutFranqueado-C8YMC2m9.js";import{C as K}from"./CadastroContas-DSuHbXMb.js";import{_ as x}from"./LabelModel-B4_L7SA4.js";import{C as F}from"./ConfirmDialog-DLr5XL0F.js";import{D as T}from"./Deslizante-ChQYv7ks.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{B as Z}from"./ButtonPrimaryMedio-gsV4lzlT.js";import"./user-DjnFR35n.js";import"./ButtonCancelar-Cun7hHhf.js";const H={class:"elemento-fixo"},J={key:0},Q={class:"w-full h-[300px] bg-white rounded-tl-[20px] rounded-tr-[20px] p-7 relative"},W={class:"flex justify-between items-center"},X={class:"w-1/1 flex justify-center"},Y=["src"],ee={class:"w-2/3"},oe={class:"text-[#262a27] text-[28px] font-bold font-['Figtree'] leading-[30px] tracking-tight"},se=["value"],te={class:"grid grid-cols-2 gap-4 mt-8"},ae={class:"w-full h-[44px] bg-white border-gray-300 rounded-lg border-2 border-[#d7d7db] p-2 text-base font-bold text-gray-800 focus:ring-2 focus:ring-green-500"},le={class:"flex justify-between items-center mt-5 w-full p-1"},re={class:"flex flex-col w-2/3"},ie={class:"w-1/2 flex justify-end"},ne={class:"bg-[#EFEFEF] p-3 px-8 w-full rounded-bl-[20px] rounded-br-[20px]"},de={class:"flex flex-col w-2/3"},ce={class:"w-1/2 flex justify-end"},ue={__name:"DetalhesColaborador",props:{dados:{type:Object,required:!0}},emits:["voltar","atualiza"],setup(r,{emit:f}){const u=P(),t=r,h=f,v=m(!1);m(null);const i=m(!1),d=m(!1),c=m(""),p=m(["função 1","Função 2","Função 3"]),k=["id","user_id","created_at","updated_at"],D=g=>({controle_estoque:"Controle de Estoque",controle_saida_estoque:"Saída de Estoque",gestao_equipe:"Gestão de Equipe",fluxo_caixa:"Fluxo de Caixa",dre:"DRE",contas_pagar:"Contas a Pagar"})[g]||g,V=(g,o)=>{console.log(`Alterando ${g} para`,o)},q=g=>{c.value=g,d.value=!0},j=()=>{i.value=!1,pagarConta()},B=()=>{i.value=!1},S=()=>{d.value=!1,z()},U=()=>{d.value=!1},z=async g=>{if(!t.dados||!t.dados.id){u.error("Erro: Dados da conta não encontrados.");return}try{const o=await axios.delete(`/api/cursto/contas-a-pagar/${t.dados.id}`);u.success("Conta excluída com sucesso"),h("voltar")}catch(o){console.error("Erro ao excluir a conta:",o)}};return(g,o)=>(s(),l(y,null,[e("div",H,[v.value?_("",!0):(s(),l("div",J,[e("div",null,[e("div",Q,[e("div",W,[e("div",X,[e("img",{src:r.dados.profile_photo_url||"/storage/images/default-profile.png",alt:"Foto do Usuário",class:"w-20 h-20 rounded-md shadow-sm"},null,8,Y)]),e("div",ee,[e("div",oe,b(r.dados.name||"N/A"),1),L(e("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>r.dados.cago=a),class:"w-72 h-[44px] bg-[#F3F8F3] border-gray-100 rounded-lg border-2 border-[#d7d7db] p-2 text-base text-[#6DB631] font-bold focus:ring-2 focus:ring-green-500 mt-2"},[o[2]||(o[2]=e("option",{value:"",disabled:""},"Selecione um cargo",-1)),(s(!0),l(y,null,w(p.value,(a,C)=>(s(),l("option",{key:C,value:a,class:"text-base bg-[#F3F8F3] font-bold text-[#6DB631] border-gray-100"},b(a),9,se))),128))],512),[[M,r.dados.cago]])]),e("button",{class:"text-gray-500 hover:text-red-600",onClick:o[1]||(o[1]=a=>q("Excluir essa conta?"))},o[3]||(o[3]=[e("img",{src:"/storage/images/delete.svg",alt:"Excluir",class:"w-6 h-6"},null,-1)]))]),e("div",te,[e("div",null,[n(x,{text:"E-mail"}),e("p",ae,b(r.dados.email),1)]),e("div",null,[n(x,{text:"Salário"}),o[4]||(o[4]=e("p",{class:"w-full h-[44px] bg-white border-gray-300 rounded-lg border-2 border-[#d7d7db] p-2 text-base font-bold text-gray-800 focus:ring-2 focus:ring-green-500"}," R$ 0,00 ",-1))])]),e("div",le,[e("div",re,[n(x,{class:"font-semibold text-gray-900",text:"Permissões"})]),e("div",ie,[n(x,{class:"font-semibold text-gray-900",text:"*** PIN"})])])]),e("div",ne,[(s(!0),l(y,null,w(Object.keys(r.dados.user_permission).filter(a=>!k.includes(a)),a=>(s(),l("div",{key:a,class:"flex justify-between items-center"},[e("div",de,[n(x,{class:"font-semibold text-gray-900",text:D(a)},null,8,["text"])]),e("div",ce,[n(T,{status:r.dados.user_permission[a],"onUpdate:status":C=>r.dados.user_permission[a]=C,onClick:C=>V(a,r.dados.user_permission[a])},null,8,["status","onUpdate:status","onClick"])])]))),128))])])]))]),n(F,{isVisible:i.value,motivo:c.value,onConfirm:j,onCancel:B},null,8,["isVisible","motivo"]),n(F,{isVisible:d.value,motivo:c.value,onConfirm:S,onCancel:U},null,8,["isVisible","motivo"])],64))}},me=$(ue,[["__scopeId","data-v-5b0d3864"]]),fe=["onClick"],ge=["src"],ve={class:"text-lg font-medium text-gray-900"},pe={class:"text-sm text-gray-600"},xe={__name:"ListarColaboradores",emits:["usuario-selecionado"],setup(r,{emit:f}){const u=f,t=m([]);N(async()=>{try{const i=await G.get("/api/usuarios/colaboradores");t.value=i.data}catch(i){console.error("Erro ao carregar os usuários:",i)}});const v=i=>{u("usuario-selecionado",i)};return(i,d)=>(s(),l("div",null,[d[0]||(d[0]=e("div",{class:"painel-title"},"Gestão de equipe",-1)),d[1]||(d[1]=e("div",{class:"painel-subtitle"},[e("p",null,"Gerencie a sua equipe e permissões aqui")],-1)),(s(!0),l(y,null,w(t.value,c=>(s(),l("div",{key:c.id,onClick:p=>v(c),class:"flex items-center bg-white p-4 rounded-lg cursor-pointer hover:bg-gray-100 transition mt-3"},[e("img",{src:c.profile_photo_url,alt:"Foto de perfil",class:"w-12 h-12 object-cover mr-4"},null,8,ge),e("div",null,[e("p",ve,b(c.name),1),e("p",pe,b(c.email),1)])],8,fe))),128))]))}},_e=$(xe,[["__scopeId","data-v-94baead2"]]),be={key:0,class:"fixed bottom-6 right-6"},he={key:1,class:"mt-3"},Ce={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-3 h-full"},ye={key:0},Se={__name:"Index",setup(r){const f=m(0),u=m(null),t=m(!1),h=()=>{t.value=!t.value,t.value&&(u.value=null)},v=p=>{u.value=p},i=()=>{t.value=!1,f.value+=1,console.log("cancelarCadastro")},d=()=>{u.value=null,f.value+=1},c=()=>{f.value+=1};return(p,k)=>(s(),E(R,null,{default:I(()=>[n(A(O),{title:"Gestão de Equipe"}),t.value?_("",!0):(s(),l("div",be,[n(Z,{text:"Cadastrar colaborador",class:"w-full",iconPath:"/storage/images/arrow_left_alt.svg",onClick:h})])),t.value?(s(),l("div",he,[n(K,{onVoltar:i,onAtualiza:c})])):_("",!0),t.value?_("",!0):(s(),l("div",Ce,[(s(),E(_e,{key:f.value,ref:"listaDados",onUsuarioSelecionado:v})),u.value?(s(),l("div",ye,[n(me,{dados:u.value,onVoltar:d},null,8,["dados"])])):_("",!0)]))]),_:1}))}};export{Se as default};
