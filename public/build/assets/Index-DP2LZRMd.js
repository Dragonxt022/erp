import{d,i as h,e as n,o as l,a as r,b as u,F as x,h as b,t as _,k as y,c as f,w as k,u as q,Z as w,f as v}from"./app-CxqmtPRA.js";import{L as B}from"./LayoutFranqueado-BMJ1z3DZ.js";import{D as L}from"./DetalhesColaborador-Bw0Clfzn.js";import{B as V}from"./ButtonPrimaryMedio-Cs0DxQ3w.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as D}from"./CadastroColaborador-BtcKficd.js";import"./LabelModel-Dm9JgWDx.js";import"./ConfirmDialog-Bjr1et44.js";import"./Deslizante-CWqldbot.js";/* empty css                                                                   */import"./ButtonEditeMedio-CEh5ysKv.js";import"./EditarColaborador-CfqvRVrW.js";import"./ButtonCancelar-D9bJmMtZ.js";const F=["onClick"],S=["src"],U={class:"text-lg font-medium text-gray-900"},z={class:"text-sm text-gray-600"},E={__name:"ListarColaboradores",emits:["usuario-selecionado","abrir-cadastro"],setup(g,{emit:i}){const e=i,o=d([]);h(async()=>{try{const s=await y.get("/api/usuarios/colaboradores");o.value=s.data.map(a=>({...a,permissions:a.permissions||{controle_estoque:!1,controle_saida_estoque:!1,gestao_equipe:!1,fluxo_caixa:!1,dre:!1,contas_pagar:!1}}))}catch(s){console.error("Erro ao carregar os usuários:",s)}});const c=s=>{e("usuario-selecionado",s)},m=()=>{e("abrir-cadastro")};return(s,a)=>(l(),n("div",null,[a[0]||(a[0]=r("div",{class:"painel-title"},"Gestão de equipe",-1)),a[1]||(a[1]=r("div",{class:"painel-subtitle"},[r("p",null,"Gerencie a sua equipe e permissões aqui")],-1)),u(V,{text:"Cadastrar colaborador",class:"w-full",onClick:m}),(l(!0),n(x,null,b(o.value,t=>(l(),n("div",{key:t.id,onClick:C=>c(t),class:"flex items-center bg-white p-4 rounded-lg cursor-pointer hover:bg-gray-100 transition mt-3"},[r("img",{src:t.profile_photo_url,alt:"Foto de perfil",class:"w-12 h-12 object-cover mr-4"},null,8,S),r("div",null,[r("p",U,_(t.name),1),r("p",z,_(t.email),1)])],8,F))),128))]))}},G=$(E,[["__scopeId","data-v-8e977923"]]),N={class:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-3 h-full"},A={key:0,class:"mt-3"},I={key:1},Y={__name:"Index",setup(g){const i=d(0),e=d(null),o=d(!1),p=()=>{o.value=!o.value,o.value&&(e.value=null)},c=t=>{e.value=t},m=()=>{o.value=!1,i.value+=1,console.log("cancelarCadastro")},s=()=>{e.value=null,i.value+=1},a=()=>{i.value+=1,c.value=null};return(t,C)=>(l(),f(B,null,{default:k(()=>[u(q(w),{title:"Gestão de Equipe"}),r("div",N,[(l(),f(G,{key:i.value,ref:"listaDados",onUsuarioSelecionado:c,onAbrirCadastro:p})),o.value?(l(),n("div",A,[u(D,{onVoltar:m})])):v("",!0),e.value?(l(),n("div",I,[u(L,{dados:e.value,onVoltar:s,onAtualiza:a},null,8,["dados"])])):v("",!0)])]),_:1}))}};export{Y as default};
