import{A as D}from"./LayoutFranqueadora-BwFTGlaO.js";import{l as A,d as a,e as l,o as s,f as x,c as $,a as e,t as w,b as _,F as b,h as k,j as O,i as G,m as L,v as M,k as S,w as j,u as N,Z as q,n as I}from"./app-D8B-quTi.js";import{B as P}from"./ButtonPrimaryMedio-DvxW02fI.js";import{B as U}from"./ButtonEditeMedio-CJlwWiLn.js";import{E as z,C as T}from"./CadastroSetorOpeperacional-DNXDE6ZD.js";import{C as Q}from"./ConfirmDialog-DRSw55jS.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputModel-CB03lLOF.js";import"./LabelModel-B0qadcnX.js";import"./ButtonCancelar-P4jo61Dz.js";const Z={key:0},H={class:"w-full h-[180px] bg-white rounded-[20px] p-12 mb-4"},J={class:"flex items-center"},K={class:"w-1/1 flex justify-center"},R=["src"],W={class:"w-2/3 pl-5"},X={class:"text-[#262a27] text-[28px] font-bold font-['Figtree'] leading-[30px] tracking-tight"},Y={class:"w-1/1"},ee={class:"w-full h-[280px] bg-white rounded-[20px] px-12 pt-5 relative overflow-hidden"},se={class:"max-h-[220px] overflow-y-auto pr-2 scrollbar-hide"},oe={class:"list-decimal list-inside space-y-2 mt-4 text-gray-800 text-[15px] font-['Figtree']"},ae={key:1,class:"mt-4"},te={__name:"DetalhesGestaoOperacional",props:{informacoes:{type:Object,required:!0}},setup(d){const u=A(),i=d,t=a(!1),p=a("");a("");const g=c=>{p.value=c,t.value=!0},v=a(!1),m=()=>{r(),t.value=!1},o=()=>{t.value=!1},r=async()=>{try{v.value=!0;const c=await axios.delete(`/api/admin-operacionais/${i.informacoes.id}`);u.success("setor excluído com sucesso!"),v.value=!1}catch(c){console.error("Erro ao excluir setor:",c),u.error("Erro ao excluir setor."),v.value=!1}},n=c=>c?`/storage/${c}`:"/storage/images/no-imagem.jpg",y=a(!1),f=a(!1),V=()=>{a.dadosinformacoes.fetchinformacoes()},F=()=>{f.value=!f.value,y.value=!1},B=()=>{f.value=!1,y.value=!0};return(c,h)=>(s(),l(b,null,[f.value?x("",!0):(s(),l("div",Z,[e("div",H,[e("div",J,[e("div",K,[e("img",{src:n(d.informacoes.profile_photo),alt:"Imagem",class:"w-20 h-20 p-2 rounded-md shadow-lg"},null,8,R)]),e("div",W,[e("div",X,w(d.informacoes.name||"N/A"),1)]),e("div",Y,[_(Q,{isVisible:t.value,motivo:p.value,onConfirm:m,onCancel:o},null,8,["isVisible","motivo"]),e("div",{class:"absolute top-[110px] right-[70px] cursor-pointer",onClick:h[0]||(h[0]=C=>g("excluir setor operacional"))},h[1]||(h[1]=[e("img",{src:"/storage/images/delete.svg",alt:"excluir",class:"w-6 h-6"},null,-1)]))])])]),h[2]||(h[2]=e("div",{class:"text-gray-700 text-[15px] font-semibold font-['Figtree'] mt-2 mb-2"}," Etapas da atividade ",-1)),e("div",ee,[e("div",se,[e("ul",oe,[(s(!0),l(b,null,k(d.informacoes.etapas,(C,be)=>(s(),l("li",{key:C.id,class:"items-center bg-[#F5FAF4] p-3 rounded-lg cursor-pointer hover:bg-gray-100 transition-all ease-in-out duration-300"},w(C.descricao),1))),128))])])])])),d.informacoes.id&&!f.value?(s(),l("div",ae,[_(U,{text:"Editar informacoes","icon-path":"/storage/images/border_color.svg",onClick:F,class:"px-4 py-2 bg-[#F8F8F8] text-white rounded-lg"})])):x("",!0),f.value?(s(),$(z,{key:2,ref:"dadosinformacoes",isVisible:f.value,informacoes:d.informacoes,onDadosinformacoes:V,onCancelar:B},null,8,["isVisible","informacoes"])):x("",!0)],64))}},ie=E(te,[["__scopeId","data-v-4436f4cb"]]),re={class:"search-container relative flex items-center w-full mb-4"},le={class:"card-container"},ne=["onClick"],ce={class:"card-inner"},de={class:"icon-container"},ue=["src"],me={class:"text-container"},ve={class:"city"},fe={class:"owner text-gray-500 text-sm"},pe={__name:"ListarGestaoAtividade",emits:["selecionado"],setup(d,{emit:u}){const i=a([]),t=a(""),p=u,g=async()=>{try{const o=await S.get("/api/atividades");i.value=o.data.data}catch(o){console.error("Erro ao carregar operacionais:",o)}},v=o=>{p("selecionado",o),console.log("Selecionado:",o)},m=O(()=>i.value.filter(o=>o.name.toLowerCase().includes(t.value.toLowerCase())));return G(g),(o,r)=>(s(),l("div",null,[r[2]||(r[2]=e("div",{class:"painel-title"},"Gestão de atividades",-1)),r[3]||(r[3]=e("div",{class:"painel-subtitle"},[e("p",null,"Visualize as atividades dos processos da franquia")],-1)),e("div",re,[r[1]||(r[1]=e("div",{class:"absolute left-3"},[e("img",{src:"/storage/images/search.svg",alt:"Ícone de pesquisa",class:"w-5 h-5 text-gray-500"})],-1)),L(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=n=>t.value=n),placeholder:"Buscar uma atividade",class:"search-input pl-10 w-full py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[M,t.value]])]),e("div",le,[(s(!0),l(b,null,k(m.value,n=>(s(),l("div",{key:n.id,class:"card cursor-pointer transform transition-transform duration-200 hover:shadow-lg",onClick:y=>v(n)},[e("div",ce,[e("div",de,[e("img",{src:n.profile_photo_url,alt:"Foto do setor",class:"w-10 h-10"},null,8,ue)]),e("div",me,[e("div",ve,w(n.name),1),e("div",fe,w(n.etapas.length)+" Etapas",1)])])],8,ne))),128))])]))}},ge=E(pe,[["__scopeId","data-v-d08b3d79"]]),he={class:"grid grid-cols-1 gap-[3rem] mt-3 sm:grid-cols-2"},_e={class:"flex flex-col gap-4"},xe={class:"absolute bottom-4 right-4"},we={key:1,class:"mt-4"},Oe={__name:"GestaoAtividades",setup(d){const u=a(null),i=a(!1),t=()=>{i.value=!i.value},p=()=>{g(),i.value=!1},g=()=>{a.listar.fetch()},v=m=>{u.value=m};return(m,o)=>(s(),$(D,null,{default:j(()=>[_(N(q),{title:"Gestão de Atividades"}),e("div",he,[e("div",null,[_(ge,{ref:"listar",onCadastrar:g,onSelecionado:v},null,512)]),e("div",_e,[i.value?(s(),l("div",we,[_(T,{isVisible:i.value,onCadastrar:p,onCancelar:t},null,8,["isVisible"])])):(s(),l(b,{key:0},[u.value?(s(),$(ie,{key:0,informacoes:u.value},null,8,["informacoes"])):x("",!0),e("div",xe,[_(P,{text:"Cadastrar novo setor",iconPath:"/storage/images/arrow_left_alt.svg",onClick:t,class:I({hidden:m.isEditMode})},null,8,["class"])])],64))])])]),_:1}))}};export{Oe as default};
