import{A as ie}from"./LayoutFranqueadora-D5xIGodV.js";import{d as n,i as de,x as G,o as r,e as d,a as e,j as U,v as H,F as L,g as K,f as se,t as j,h as x,k as q,l as W,y as ue,m as ce,c as A,w as Y,p as B,b as g,z as I,q as ae,u as pe,Z as me}from"./app-9S55-VCN.js";import{B as re,a as ee}from"./ButtonCancelar-7PJdpfMl.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as te}from"./index-DIQZRjxV.js";import{B as ve}from"./ButtonEditeMedio-DZwTL-fG.js";import{C as oe}from"./ConfirmDialog-DtnutdSz.js";import{I as le}from"./InputModel-EzHzxHDE.js";import{_ as R}from"./LabelModel-BQZozZ6I.js";import"./user-B6yIILm4.js";const fe={class:"search-container relative flex items-center w-full mb-4"},ge={class:"card-container"},xe=["onClick"],_e={class:"card-inner"},he={class:"icon-container"},ye={class:"icon-leaf"},be=["src"],we={class:"text-container"},$e={class:"city"},ke={key:0,class:"estrela"},Ce={__name:"ListarInsumos",setup(y){const b=n([]),c=n(""),w=async()=>{try{const s=await q.get("/api/produtos/lista-insumos");console.log("Produtos carregados:",s.data),b.value=Array.isArray(s.data)?s.data:[]}catch(s){console.error("Erro ao carregar os produtos:",s),b.value=[]}},_=s=>s?new URL(s,window.location.origin).href:"/storage/images/no_imagem.svg",h=de(()=>{const s=c.value.toLowerCase();return b.value.filter(l=>l.nome.toLowerCase().includes(s))}),p=s=>{console.log("Produto selecionado:",s)};return G(w),(s,l)=>(r(),d("div",null,[l[4]||(l[4]=e("div",{class:"painel-title"},"Insumos",-1)),l[5]||(l[5]=e("div",{class:"painel-subtitle"},[e("p",null,"Adicione os itens que você recebeu ao estoque")],-1)),e("div",fe,[l[1]||(l[1]=e("div",{class:"absolute left-3"},[e("img",{src:"/storage/images/search.svg",alt:"Ícone de pesquisa",class:"w-5 h-5 text-gray-500"})],-1)),U(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=m=>c.value=m),placeholder:"Buscar um produto",class:"search-input pl-10 w-full py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[H,c.value]])]),e("div",ge,[(r(!0),d(L,null,K(h.value,m=>(r(),d("div",{key:m.id,class:"card cursor-pointer transform transition-transform duration-200 hover:shadow-lg",onClick:P=>p(m)},[e("div",_e,[e("div",he,[l[2]||(l[2]=e("div",{class:"icon-bg"},null,-1)),e("div",ye,[e("img",{src:_(m.profile_photo),alt:"Imagem do produto",class:"w-12 h-12 rounded-lg"},null,8,be)])]),e("div",we,[e("div",$e,[se(j(m.nome)+" ",1),m.estrela?(r(),d("span",ke,"★")):x("",!0)])]),l[3]||(l[3]=e("div",{class:"action-icon"},null,-1))])],8,xe))),128))])]))}},Ve=O(Ce,[["__scopeId","data-v-c062ad00"]]),Ue={key:0,class:"sidebar-container"},Fe={key:0,class:"loading-overlay"},Pe={key:1,class:"w-full h-[860px] bg-white rounded-[20px] p-12"},De={class:"flex justify-center mb-6 relative group"},Ie=["src"],je={key:1,src:"/storage/images/arrow_upload_ready.svg",alt:"Ícone de upload"},Ee={key:0,class:"error-message"},Me={class:"flex items-center space-x-4 mt-2"},Se={class:"flex items-center space-x-2 cursor-pointer"},Be={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Re={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Le={class:"flex items-center space-x-2 cursor-pointer"},qe={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Ae={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Ne={class:"flex items-center space-x-4 mt-2"},ze={class:"flex items-center space-x-2 cursor-pointer"},Te={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Oe={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Xe={class:"flex items-center space-x-2 cursor-pointer"},Je={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Qe={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Ze={class:"mt-8"},Ge={class:"min-w-full table-auto"},He={class:"px-6 py-2 text-[16px] text-gray-800 font-semibold text-left"},Ke={class:"px-6 py-2 text-[16px] text-gray-800 font-semibold text-center"},We=["onUpdate:modelValue","onInput"],Ye={class:"flex justify-start space-x-1 mt-[8%]"},et={__name:"EditarProduto",props:{isVisible:{type:Boolean,required:!0},produto:{type:Object,required:!0}},emits:["cancelar"],setup(y,{emit:b}){const c=W(),w=t=>(t=t.toString().replace(/\D/g,""),t=(parseInt(t,10)/100).toFixed(2),new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)),_=y,h=b,p=n(""),s=n(""),l=n(""),m=n(""),P=n(null),D=n(""),k=n(null),F=n(!1),C=n(!1),E=n(""),f=n([]),$=n([]),{produto:M}=ue(_);ce(()=>_.produto,t=>{t&&(p.value=t.nome||"",s.value=t.categoria||"",l.value=t.unidadeDeMedida||"",m.value=t.profile_photo||"",f.value=t.precos.reduce((o,u)=>(o[u.fornecedor_id]=u.preco_unitario?w(u.preco_unitario):"",o),{}))},{immediate:!0});const S=async()=>{try{const t=await q.get("/api/fornecedores");$.value=t.data.data,M.value.precos.forEach(o=>{f.value[o.id]=(o.preco_unitario/100).toFixed(2)})}catch(t){console.error("Erro ao carregar fornecedores:",t)}};G(()=>{S()});const V=async()=>{if(!p.value){c.error("O campo nome é obrigatório.");return}try{F.value=!0;const t=new FormData;t.append("id",_.produto.id),t.append("nome",p.value),t.append("categoria",s.value),t.append("unidadeDeMedida",l.value),t.append("profile_photo",P.value),Object.entries(f.value).forEach(([u,T])=>{if(u==="undefined"||u===null)return;const ne=T.replace(/\D/g,"");t.append("precos[]",JSON.stringify({preco_id:null,fornecedor_id:u,preco_unitario:ne}))});const o=await q.post("/api/produtos/atualizar",t,{headers:{"Content-Type":"multipart/form-data"}});te.Inertia.replace(route("franqueadora.insumos"),{produto:o.data.produto,preserveState:!0}),c.success("Produto atualizado com sucesso!")}catch(t){console.error("Erro ao atualizar o produto:",t),t.response?c.error(`Erro: ${t.response.data.message||"Erro desconhecido"}`):t.request?c.error("Erro ao conectar ao servidor. Tente novamente."):c.error(`Erro: ${t.message}`)}finally{F.value=!1}},X=t=>{let o=f.value[t]||"";o=o.toString().replace(/\D/g,""),o=(parseInt(o,10)/100).toFixed(2);const u=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o);f.value[t]=`R$ ${u}`},J=t=>t?new URL(t,window.location.origin).href:"/storage/images/no_imagem.svg",Q=t=>{E.value=t,C.value=!0},N=()=>{V(),C.value=!1},Z=()=>{C.value=!1},z=()=>{var t;(t=k.value)==null||t.click()},v=()=>{m.value="",c.info("Imagem removida.")},a=t=>{const o=t.target.files[0];if(o){if(o.size>5*1024*1024){c.error("A imagem não pode exceder 5 MB.");return}P.value=o;const u=new FileReader;u.onload=()=>{m.value=u.result,c.success("Imagem carregada com sucesso!")},u.readAsDataURL(o)}},i=()=>{h("cancelar")};return(t,o)=>(r(),A(ae,{name:"fade"},{default:Y(()=>[y.isVisible?(r(),d("div",Ue,[F.value?(r(),d("div",Fe,o[7]||(o[7]=[e("div",{class:"spinner"},null,-1)]))):(r(),d("div",Pe,[e("form",{onSubmit:B(V,["prevent"])},[e("div",De,[e("div",{class:"w-[110px] h-[110px] bg-[#f3f8f3] rounded-xl flex items-center justify-center cursor-pointer overflow-hidden relative",onClick:z},[m.value?(r(),d(L,{key:0},[e("img",{src:J(m.value),alt:"Imagem selecionada",class:"w-full h-full object-cover"},null,8,Ie),e("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",onClick:o[0]||(o[0]=B(()=>{},["stop"]))},[e("button",{onClick:B(v,["stop"]),class:"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm"}," X ")])],64)):(r(),d("img",je))]),e("input",{type:"file",ref_key:"fileInput",ref:k,accept:"image/*",class:"hidden",onChange:a},null,544)]),g(R,{text:"Nome"}),g(le,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=u=>p.value=u),placeholder:""},null,8,["modelValue"]),D.value?(r(),d("div",Ee,j(D.value),1)):x("",!0),g(R,{class:"font-semibold text-gray-800 mt-8",text:"Prioridade"}),e("div",Me,[e("label",Se,[U(e("input",{type:"radio","onUpdate:modelValue":o[2]||(o[2]=u=>s.value=u),value:"principal",class:"hidden"},null,512),[[I,s.value]]),e("div",Be,[s.value==="principal"?(r(),d("div",Re)):x("",!0)]),o[8]||(o[8]=e("span",null,"Principal",-1))]),e("label",Le,[U(e("input",{type:"radio","onUpdate:modelValue":o[3]||(o[3]=u=>s.value=u),value:"secundario",class:"hidden"},null,512),[[I,s.value]]),e("div",qe,[s.value==="secundario"?(r(),d("div",Ae)):x("",!0)]),o[9]||(o[9]=e("span",null,"Secundário",-1))])]),g(R,{class:"font-semibold text-gray-800 mt-8",text:"Unidade de medida"}),e("div",Ne,[e("label",ze,[U(e("input",{type:"radio","onUpdate:modelValue":o[4]||(o[4]=u=>l.value=u),value:"a_granel",class:"hidden"},null,512),[[I,l.value]]),e("div",Te,[l.value==="a_granel"?(r(),d("div",Oe)):x("",!0)]),o[10]||(o[10]=e("span",null,"A granel",-1))]),e("label",Xe,[U(e("input",{type:"radio","onUpdate:modelValue":o[5]||(o[5]=u=>l.value=u),value:"unitario",class:"hidden"},null,512),[[I,l.value]]),e("div",Je,[l.value==="unitario"?(r(),d("div",Qe)):x("",!0)]),o[11]||(o[11]=e("span",null,"Unitário",-1))])]),e("div",Ze,[e("table",Ge,[o[12]||(o[12]=e("thead",null,[e("tr",{class:"bg-[#d2fac3]"},[e("th",{class:"px-6 py-2 text-left text-[15px] font-semibold text-[#1d5915] uppercase tracking-wider rounded-tl-2xl"}," Fornecedores "),e("th",{class:"px-6 py-2 text-[15px] font-semibold text-[#1d5915] uppercase tracking-wider rounded-tr-2xl"}," Valor ")])],-1)),e("tbody",null,[(r(!0),d(L,null,K($.value,u=>(r(),d("tr",{key:u.id},[e("td",He,j(u.razao_social),1),e("td",Ke,[U(e("input",{"onUpdate:modelValue":T=>f.value[u.id]=T,type:"text",placeholder:"R$ 0,00",onInput:T=>X(u.id),class:"border rounded-lg px-2 py-1 w-[110px] h-[38px] text-center"},null,40,We),[[H,f.value[u.id]]])])]))),128))])])]),e("div",Ye,[g(re,{text:"Cancelar",onClick:i}),g(ee,{text:"Atualizar",onClick:o[6]||(o[6]=u=>Q("Atualizar esse Produto?"))})])],32),g(oe,{isVisible:C.value,motivo:E.value,onConfirm:N,onCancel:Z},null,8,["isVisible","motivo"])]))])):x("",!0)]),_:1}))}},tt=O(et,[["__scopeId","data-v-0e0487fa"]]),ot={class:"elemento-fixo"},st={key:0,class:"w-full h-[200px] bg-white rounded-[20px] p-12"},at={class:"relative w-full h-full"},rt={class:"flex items-center"},lt={class:"w-1/1 flex justify-center"},nt=["src"],it={class:"w-2/3 pl-5"},dt={class:"text-[#262a27] text-[28px] font-bold font-['Figtree'] leading-[30px] tracking-tight"},ut={class:"owner"},ct={class:"w-1/1"},pt={key:1,class:"mt-4"},mt={__name:"DetalhesProduto",props:{produto:{type:Object,required:!0}},setup(y){const b=W(),c=y,w=n(!1),_=n(""),h=n(!1),p=n(!1),s=n(!1),l=()=>{n.dadosProduto.fetchProduto()},m=f=>f?new URL(f,window.location.origin).href:"/storage/images/no_imagem.svg",P=async()=>{var f,$,M,S;try{s.value=!0;const V=await q.delete(`/api/produtos/excluir/${c.produto.id}`);console.log(V.data.message),b.success("Produto deletado com sucesso!"),te.Inertia.visit(route("franqueadora.insumos"))}catch(V){b.error("Erro ao deletar o produto:",(($=(f=V.response)==null?void 0:f.data)==null?void 0:$.error)||V.message),console.error("Erro ao deletar o produto:",((S=(M=V.response)==null?void 0:M.data)==null?void 0:S.error)||V.message)}finally{s.value=!1}},D=()=>{p.value=!p.value,h.value=!1},k=f=>{_.value=f,w.value=!0},F=()=>{P(),w.value=!1},C=()=>{w.value=!1},E=()=>{p.value=!1,h.value=!0};return(f,$)=>(r(),d("div",ot,[p.value?x("",!0):(r(),d("div",st,[e("div",at,[e("div",rt,[e("div",lt,[e("img",{src:m(y.produto.profile_photo),alt:"Foto do Usuário",class:"w-20 h-20 rounded-md shadow-lg"},null,8,nt)]),e("div",it,[e("div",dt,[se(j(y.produto.nome||"N/A")+" ",1),e("div",ut,j(y.produto.categoria)+" / "+j(y.produto.unidadeDeMedida),1)])]),e("div",ct,[g(oe,{isVisible:w.value,motivo:_.value,onConfirm:F,onCancel:C},null,8,["isVisible","motivo"]),e("div",{class:"absolute top-4 right-4 cursor-pointer",onClick:$[0]||($[0]=M=>k("Excluir esse produto?"))},$[1]||($[1]=[e("img",{src:"/storage/images/delete.svg",alt:"Deletar Usuário",class:"w-6 h-6"},null,-1)]))])])])])),y.produto.id&&!p.value?(r(),d("div",pt,[g(ve,{text:"Editar insumos","icon-path":"/storage/images/border_color.svg",onClick:D,class:"px-4 py-2 bg-[#F8F8F8] text-white rounded-lg"})])):x("",!0),p.value?(r(),A(tt,{key:2,ref:"dadosProduto",isVisible:p.value,produto:y.produto,onDadosProduto:l,onCancelar:E},null,8,["isVisible","produto"])):x("",!0)]))}},vt=O(mt,[["__scopeId","data-v-76107c05"]]),ft={key:0,class:"sidebar-container"},gt={key:0,class:"loading-overlay"},xt={key:1,class:"w-full h-[80%] bg-white rounded-[20px] p-12"},_t={class:"flex justify-center mb-6 relative group"},ht=["src"],yt={key:1,src:"/storage/images/arrow_upload_ready.svg",alt:"Ícone de upload"},bt={key:0,class:"error-message"},wt={class:"flex items-center space-x-4 mt-2"},$t={class:"flex items-center space-x-2 cursor-pointer"},kt={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Ct={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Vt={class:"flex items-center space-x-2 cursor-pointer"},Ut={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Ft={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Pt={class:"flex items-center space-x-4 mt-2"},Dt={class:"flex items-center space-x-2 cursor-pointer"},It={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},jt={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Et={class:"flex items-center space-x-2 cursor-pointer"},Mt={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},St={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Bt={class:"mt-12"},Rt={class:"min-w-full table-auto"},Lt={class:"px-6 py-2 text-[16px] text-gray-800 font-semibold text-left"},qt={class:"px-6 py-2 text-[16px] text-gray-800 font-semibold text-center"},At=["onUpdate:modelValue","onInput"],Nt={class:"flex justify-start space-x-1 mt-[15%]"},zt={__name:"CadastroProduto",props:{isVisible:{type:Boolean,required:!0}},emits:["cancelar"],setup(y,{emit:b}){const c=W(),w=b,_=n(""),h=n(""),p=n(""),s=n(""),l=n(null),m=n(""),P=n(null),D=n(!1),k=n({}),F=n([]),C=n(!1),E=n("");G(async()=>{try{const v=await q.get("/api/fornecedores");F.value=v.data.data}catch{c.error("Erro ao carregar fornecedores.")}F.value.forEach(v=>{k.value[v.id]&&f(v.id)})});const f=v=>{let a=k.value[v]||"";a=a.toString().replace(/\D/g,""),a=(parseInt(a,10)/100).toFixed(2);const i=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a);k.value[v]=`R$ ${i}`},$=()=>{var v;(v=P.value)==null||v.click()},M=v=>{E.value=v,C.value=!0},S=()=>{z(),C.value=!1},V=()=>{C.value=!1},X=()=>{h.value="",c.info("Imagem removida.")},J=v=>{const a=v.target.files[0];if(a){l.value=a;const i=new FileReader;i.onload=()=>{h.value=i.result,c.success("Imagem carregada com sucesso!")},i.readAsDataURL(a)}},Q=()=>{N(),w("cancelar")},N=()=>{_.value="",p.value="",s.value="",h.value="",l.value=null,m.value=""},Z=()=>!_.value||!l.value||!s||!p?(c.error("Por favor, preencha todos os campos obrigatórios."),m.value="Por favor, preencha todos os campos obrigatórios.",!1):!0,z=async()=>{var v,a;if(Z())try{D.value=!0;const i=new FormData;i.append("nome",_.value),i.append("categoria",p.value),i.append("unidadeDeMedida",s.value),i.append("profile_photo",l.value),Object.entries(k.value).forEach(([o,u])=>{i.append(`precos[${o}]`,u)});const t=await q.post("/api/produtos/cadastrar",i,{headers:{"Content-Type":"multipart/form-data"}});c.success("Produto cadastrado com sucesso!"),te.Inertia.visit(route("franqueadora.insumos")),N()}catch(i){c.error("Erro ao cadastrar o produto."),m.value=((a=(v=i.response)==null?void 0:v.data)==null?void 0:a.message)||"Erro inesperado."}finally{D.value=!1}};return(v,a)=>(r(),A(ae,{name:"fade"},{default:Y(()=>[y.isVisible?(r(),d("div",ft,[D.value?(r(),d("div",gt,a[7]||(a[7]=[e("div",{class:"spinner"},null,-1)]))):(r(),d("div",xt,[e("form",{onSubmit:B(z,["prevent"])},[e("div",_t,[e("div",{class:"w-[110px] h-[110px] bg-[#f3f8f3] rounded-xl flex items-center justify-center cursor-pointer overflow-hidden relative",onClick:$},[h.value?(r(),d(L,{key:0},[e("img",{src:h.value,alt:"Imagem selecionada",class:"w-full h-full object-cover"},null,8,ht),e("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",onClick:a[0]||(a[0]=B(()=>{},["stop"]))},[e("button",{onClick:B(X,["stop"]),class:"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm"}," X ")])],64)):(r(),d("img",yt))]),e("input",{type:"file",ref_key:"fileInput",ref:P,accept:"image/*",class:"hidden",onChange:J},null,544)]),g(R,{text:"Nome"}),g(le,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=i=>_.value=i),placeholder:"Shoyu Premium Sakaki"},null,8,["modelValue"]),m.value?(r(),d("div",bt,j(m.value),1)):x("",!0),g(R,{class:"font-semibold text-gray-800 mt-8",text:"Prioridade"}),e("div",wt,[e("label",$t,[U(e("input",{type:"radio","onUpdate:modelValue":a[2]||(a[2]=i=>p.value=i),value:"principal",class:"hidden"},null,512),[[I,p.value]]),e("div",kt,[p.value==="principal"?(r(),d("div",Ct)):x("",!0)]),a[8]||(a[8]=e("span",null,"Principal",-1))]),e("label",Vt,[U(e("input",{type:"radio","onUpdate:modelValue":a[3]||(a[3]=i=>p.value=i),value:"secundario",class:"hidden"},null,512),[[I,p.value]]),e("div",Ut,[p.value==="secundario"?(r(),d("div",Ft)):x("",!0)]),a[9]||(a[9]=e("span",null,"Secundário",-1))])]),g(R,{class:"font-semibold text-gray-800 mt-8",text:"Unidade de medida"}),e("div",Pt,[e("label",Dt,[U(e("input",{type:"radio","onUpdate:modelValue":a[4]||(a[4]=i=>s.value=i),value:"a_granel",class:"hidden"},null,512),[[I,s.value]]),e("div",It,[s.value==="a_granel"?(r(),d("div",jt)):x("",!0)]),a[10]||(a[10]=e("span",null,"A granel",-1))]),e("label",Et,[U(e("input",{type:"radio","onUpdate:modelValue":a[5]||(a[5]=i=>s.value=i),value:"unitario",class:"hidden"},null,512),[[I,s.value]]),e("div",Mt,[s.value==="unitario"?(r(),d("div",St)):x("",!0)]),a[11]||(a[11]=e("span",null,"Unitário",-1))])]),e("div",Bt,[e("table",Rt,[a[12]||(a[12]=e("thead",null,[e("tr",{class:"bg-[#d2fac3]"},[e("th",{class:"px-6 py-2 text-left text-[15px] font-semibold text-[#1d5915] uppercase tracking-wider rounded-tl-2xl"}," Fornecedor "),e("th",{class:"px-6 py-2 text-[15px] font-semibold text-[#1d5915] uppercase tracking-wider rounded-tr-2xl"}," Valor ")])],-1)),e("tbody",null,[(r(!0),d(L,null,K(F.value,i=>(r(),d("tr",{key:i.id},[e("td",Lt,j(i.razao_social),1),e("td",qt,[U(e("input",{"onUpdate:modelValue":t=>k.value[i.id]=t,type:"text",placeholder:"R$ 0,00",onInput:t=>f(i.id),class:"border rounded-lg px-2 py-1 w-[110px] h-[38px] text-center"},null,40,At),[[H,k.value[i.id]]])])]))),128))])])]),e("div",Nt,[g(re,{text:"Cancelar",onClick:Q}),g(ee,{text:"Cadastrar",onClick:a[6]||(a[6]=i=>M("Criar novo Produto?"))})])],32)])),g(oe,{isVisible:C.value,motivo:E.value,onConfirm:S,onCancel:V},null,8,["isVisible","motivo"])])):x("",!0)]),_:1}))}},Tt=O(zt,[["__scopeId","data-v-38a132e8"]]),Ot={class:"flex flex-col gap-4"},Xt={class:"absolute bottom-4 right-4"},Jt={key:1,class:"mt-4"},so={__name:"Index",setup(y){const b=n(null),c=n(!1),w=()=>{c.value=!c.value},_=()=>{h(),c.value=!1},h=()=>{var l;(l=n("listarUnidades").value)==null||l.fetchUnidades()},p=s=>{s&&typeof s=="object"?b.value=s:console.warn("Dados inválidos recebidos no evento produto-selecionado:",s)};return(s,l)=>(r(),A(ie,null,{default:Y(()=>[g(pe(me),{title:"Insumos"}),e("div",{class:"grid grid-cols-1 gap-[3rem] mt-3 sm:grid-cols-2 overflow-hidden card-container h-full overflow-y-scroll",onScrollPassive:l[0]||(l[0]=()=>{})},[e("div",null,[g(Ve,{ref:"listarUnidades",onUnidadeCadastrada:h,onProdutoSelecionado:p},null,512)]),e("div",Ot,[c.value?(r(),d("div",Jt,[g(Tt,{isVisible:c.value,onUnidadeCadastrada:_,onCancelar:w},null,8,["isVisible"])])):(r(),d(L,{key:0},[b.value?(r(),A(vt,{key:0,produto:b.value},null,8,["produto"])):x("",!0),e("div",Xt,[g(ee,{text:"Cadastrar insumo",iconPath:"/storage/images/arrow_left_alt.svg",onClick:w})])],64))])],32)]),_:1}))}};export{so as default};
