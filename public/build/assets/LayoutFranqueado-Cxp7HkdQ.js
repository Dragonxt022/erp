import{y as $,i as f,o as r,e as u,a as e,t as v,d as P,m as w,D as I,c as F,w as A,n as q,p as L,u as h,A as y,F as k,g as p,b,h as N,N as B,Z as T,r as U}from"./app-DYFsICWL.js";import{u as E}from"./user-CJGICPtJ.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={setup(){const a=E();$(async()=>{a.user||await a.fetchUserProfile()});const s=f(()=>a.user),i=f(()=>{var t;return(t=a.user)==null?void 0:t.unidade}),c=f(()=>{var t,l;return((t=s.value)==null?void 0:t.profile_photo_url)||`https://ui-avatars.com/api/?name=${m((l=s.value)==null?void 0:l.name)}&color=7F9CF5&background=EBF4FF`});function m(t){return t?t.split(" ").map(o=>o.charAt(0).toUpperCase()).join(""):"*"}return{user:s,profilePhoto:c,unidade:i}}},V={class:"navbar"},O={class:"navbar-content"},R={class:"navbar-left"},j={class:"navbar-logo"},D=["href"],G={class:"navbar-right"},J={class:"user-info"},z=["src"],H={class:"user-details"},K={class:"user-name"},Q={class:"user-location"};function W(a,s,i,c,m,t){var l,n;return r(),u("div",V,[s[3]||(s[3]=e("div",{class:"navbar-background"},null,-1)),e("div",O,[e("div",R,[e("div",j,[s[1]||(s[1]=e("div",{class:"mr-4"},[e("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[e("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),e("div",null,[e("a",{href:a.route("franqueado.painel")},s[0]||(s[0]=[e("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,D)])])]),e("div",G,[s[2]||(s[2]=e("div",{class:"notification"},[e("div",{class:"circle"},[e("img",{src:"/storage/images/icon_notification.svg",alt:"icone notificação"})]),e("div",{class:"inner-circle"})],-1)),e("div",J,[e("img",{src:c.profilePhoto,alt:"Avatar",class:"avatar"},null,8,z),e("div",H,[e("div",K,v((l=c.user)==null?void 0:l.name),1),e("div",Q,v(((n=c.unidade)==null?void 0:n.cidade)||"Taiksu Franchising"),1)])])])])])}const Z=_(M,[["render",W],["__scopeId","data-v-7f7da930"]]),X={class:"icon"},Y=["src"],ee={class:"label"},se={type:"submit",class:"w-full h-full flex items-center"},ae={class:"icon"},te=["src"],oe={class:"label"},ie={key:2,class:"submenu"},ne={class:"label"},le={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean,submenuItems:{type:Array,default:()=>[]}},setup(a){const s=a,i=P(!1),c=()=>{const d=localStorage.getItem(`submenu-${s.link}`);d!==null&&(i.value=JSON.parse(d))},m=()=>{localStorage.setItem(`submenu-${s.link}`,JSON.stringify(i.value))},t=()=>{i.value=!i.value,m()},l=f(()=>o.value||s.isActive?"submenu-active":""),n=d=>{const S=window.location.pathname,g=new URL(route(d),window.location.origin).pathname;return S===g},o=f(()=>s.submenuItems.some(d=>n(d.link))),x=()=>{s.isLogout&&B.post(route("logout"))};return c(),w(o,()=>{o.value||I(()=>{i.value=!1,m()})}),w(i,d=>{I(()=>{m()})}),(d,S)=>(r(),u("div",null,[a.isLogout?(r(),u("form",{key:1,onSubmit:L(x,["prevent"]),class:"menu-item"},[e("button",se,[e("div",ae,[e("img",{src:a.icon,alt:"icon"},null,8,te)]),e("div",oe,v(a.label),1)])],32)):(r(),F(h(y),{key:0,class:q(["menu-item",[l.value,{active:a.isActive||o.value}]]),href:a.link,onClick:L(t,["prevent"])},{default:A(()=>[e("div",X,[e("img",{src:a.icon,alt:"icon"},null,8,Y)]),e("div",ee,v(a.label),1)]),_:1},8,["class","href"])),a.submenuItems&&a.submenuItems.length>0&&(i.value||o.value)?(r(),u("div",ie,[(r(!0),u(k,null,p(a.submenuItems,(g,C)=>(r(),u("div",{key:C},[b(h(y),{class:q(["submenu-item",{active:n(g.link)}]),href:d.route(g.link)},{default:A(()=>[e("div",ne,v(g.label),1)]),_:2},1032,["href","class"])]))),128))])):N("",!0)]))}},re=_(le,[["__scopeId","data-v-aa88da85"]]),ue={class:"category-title menu-categorias text-sm sm:text-base font-medium text-[#87ba73] mb-3 pl-4"},ce={__name:"Slidebar",setup(a){const s=P(null),i=[{name:"",items:[{label:"Inicio",icon:"/storage/images/inicio.svg",link:"franqueado.painel",isLogout:!1,isActive:!1}]},{name:"Ferramentas",items:[{label:"E-mail",icon:"/storage/images/email.svg",link:"franqueado.email",isLogout:!1,isActive:!1},{label:"Comunidade",icon:"/storage/images/diversity_4.svg",link:"franqueado.comunidade",isLogout:!1,isActive:!1},{label:"Mídias",icon:"/storage/images/perm_media.svg",link:"franqueado.midias",isLogout:!1,isActive:!1}]},{name:"Gestão da loja",items:[{label:"Controle de estoque",icon:"/storage/images/estoque.svg",link:"franqueado.estoque",isLogout:!1,submenuItems:[{label:"Inventário",icon:"/storage/images/add_product.svg",link:"franqueado.inventario"},{label:"Fornecedores",link:"franqueado.fornecedores"},{label:"Novo Pedidos",link:"franqueado.pedidos"},{label:"Histórico de Pedidos",link:"franqueado.historicoPedidos"}],isActive:!1},{label:"Supervisão de resíduos",icon:"/storage/images/delete_branco.svg",link:"franqueado.supervisaoResidos",isLogout:!1,isActive:!1},{label:"Gestão de equipe",icon:"/storage/images/gestao_servisos.svg",link:"franqueado.gestaoEquipe",isLogout:!1,submenuItems:[{label:"Controle de ponto",icon:"/storage/images/add_product.svg",link:"franqueado.controlePonto"},{label:"Folha de pagamento",link:"franqueado.folhaPagamento"}],isActive:!1},{label:"Taiksu IA",icon:"/storage/images/TAIKSU_IA_ICONE.svg",link:"franqueado.midias",isLogout:!1,isActive:!1},{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];$(()=>{const t=localStorage.getItem("sidebarScrollPosition");t&&s.value&&(s.value.scrollTop=t)});const c=()=>{s.value&&localStorage.setItem("sidebarScrollPosition",s.value.scrollTop)},m=t=>{const l=window.location.pathname,n=new URL(t,window.location.origin).pathname;return l===n||l.startsWith(n)};return(t,l)=>(r(),u("div",null,[e("div",{class:"sidebar fixed top-16 left-0 bg-[#164110] text-white flex flex-col p-3 overflow-y-auto h-full sm:w-64 md:w-72 lg:w-80 xl:w-80",ref_key:"sidebar",ref:s,onScroll:c},[(r(),u(k,null,p(i,n=>e("div",{key:n.name,class:"menu-category mb-6"},[e("div",ue,v(n.name),1),(r(!0),u(k,null,p(n.items,o=>(r(),F(re,{key:o.link,label:o.label,icon:o.icon,link:t.route(o.link),submenuItems:o.submenuItems,isActive:m(t.route(o.link)),isLogout:o.isLogout},null,8,["label","icon","link","submenuItems","isActive","isLogout"]))),128))])),64))],544)]))}},de=_(ce,[["__scopeId","data-v-ec179e91"]]),me={class:"content"},ve={__name:"LayoutFranqueado",props:{title:String},setup(a){return(s,i)=>(r(),u("div",null,[b(h(T),{title:a.title},null,8,["title"]),b(Z),b(de),e("main",me,[U(s.$slots,"default",{},void 0,!0)])]))}},he=_(ve,[["__scopeId","data-v-1956f7d2"]]);export{he as L};
