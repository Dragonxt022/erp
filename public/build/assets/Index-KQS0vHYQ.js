import{A as ie}from"./LayoutFranqueadora-DkKmIDUQ.js";import{k as q,o as a,e as i,a as e,j as P,v as G,F as L,g as H,f as oe,t as j,h as y,l as K,d,x as de,m as ue,y as se,c as N,w as W,p as S,b as x,z as I,q as ae,u as ce,Z as pe}from"./app-Dy2XxTUx.js";import{B as Y}from"./ButtonPrimaryMedio-D7yjF21s.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as ee}from"./index-Bf1s80cy.js";import{B as me}from"./ButtonEditeMedio-CRbuc3G5.js";import{C as te}from"./ConfirmDialog-BOiRj2xs.js";import{I as re}from"./InputModel-BRoYUNEx.js";import{_ as B}from"./LabelModel-Cqz_iB5b.js";import{B as le}from"./ButtonCancelar-nSAeq5dJ.js";import"./user-BgrY-rsP.js";const fe={data(){return{produtos:[],searchQuery:""}},mounted(){this.fetchProdutos()},methods:{async fetchProdutos(){try{const c=await q.get("/api/produtos/lista-insumos");console.log("Produtos carregados:",c.data),this.produtos=c.data}catch(c){console.error("Erro ao carregar os produtos:",c)}},getProfilePhotoUrl(c){return c?new URL(c,window.location.origin).href:"/storage/images/no_imagem.svg"},selecionarProduto(c){this.$emit("produto-selecionado",c)}},computed:{filteredProdutos(){const c=this.searchQuery.toLowerCase();return this.produtos.filter(p=>p.nome.toLowerCase().includes(c))}}},ve={class:"search-container relative flex items-center w-full mb-4"},ge={class:"card-container"},xe=["onClick"],he={class:"card-inner"},_e={class:"icon-container"},ye={class:"icon-leaf"},be=["src"],we={class:"text-container"},$e={class:"city"},ke={key:0,class:"estrela"};function Ce(c,p,m,$,h,_){return a(),i("div",null,[p[4]||(p[4]=e("div",{class:"painel-title"},"Insumos",-1)),p[5]||(p[5]=e("div",{class:"painel-subtitle"},[e("p",null,"Adicione os itens que você recebeu ao estoque")],-1)),e("div",ve,[p[1]||(p[1]=e("div",{class:"absolute left-3"},[e("img",{src:"/storage/images/search.svg",alt:"Ícone de pesquisa",class:"w-5 h-5 text-gray-500"})],-1)),P(e("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=l=>h.searchQuery=l),placeholder:"Buscar um produto",class:"search-input pl-10 w-full py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[G,h.searchQuery]])]),e("div",ge,[(a(!0),i(L,null,H(_.filteredProdutos,l=>(a(),i("div",{key:l.id,class:"card cursor-pointer transform transition-transform duration-200 hover:shadow-lg",onClick:u=>_.selecionarProduto(l)},[e("div",he,[e("div",_e,[p[2]||(p[2]=e("div",{class:"icon-bg"},null,-1)),e("div",ye,[e("img",{src:_.getProfilePhotoUrl(l.profile_photo),alt:"Imagem do produto",class:"w-12 h-12 rounded-lg"},null,8,be)])]),e("div",we,[e("div",$e,[oe(j(l.nome)+" ",1),l.estrela?(a(),i("span",ke,"★")):y("",!0)])]),p[3]||(p[3]=e("div",{class:"action-icon"},null,-1))])],8,xe))),128))])])}const Ve=T(fe,[["render",Ce],["__scopeId","data-v-79235620"]]),Pe={key:0,class:"sidebar-container"},Ue={key:0,class:"loading-overlay"},Fe={key:1,class:"w-full h-[860px] bg-white rounded-[20px] p-12"},De={class:"flex justify-center mb-6 relative group"},Ie=["src"],je={key:1,src:"/storage/images/arrow_upload_ready.svg",alt:"Ícone de upload"},Ee={key:0,class:"error-message"},Me={class:"flex items-center space-x-4 mt-2"},Re={class:"flex items-center space-x-2 cursor-pointer"},Se={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Be={key:0,class:"w-3 h-3 rounded-full bg-green-500"},qe={class:"flex items-center space-x-2 cursor-pointer"},Le={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Ne={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Ae={class:"flex items-center space-x-4 mt-2"},ze={class:"flex items-center space-x-2 cursor-pointer"},Oe={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Te={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Qe={class:"flex items-center space-x-2 cursor-pointer"},Xe={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Je={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Ze={class:"mt-8"},Ge={class:"min-w-full table-auto"},He={class:"px-6 py-2 text-[16px] text-gray-800 font-semibold text-left"},Ke={class:"px-6 py-2 text-[16px] text-gray-800 font-semibold text-center"},We=["onUpdate:modelValue","onInput"],Ye={class:"flex justify-start space-x-1 mt-[8%]"},et={__name:"EditarProduto",props:{isVisible:{type:Boolean,required:!0},produto:{type:Object,required:!0}},emits:["cancelar"],setup(c,{emit:p}){const m=K(),$=t=>(t=t.toString().replace(/\D/g,""),t=(parseInt(t,10)/100).toFixed(2),new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)),h=c,_=p,l=d(""),u=d(""),f=d(""),w=d(""),F=d(null),D=d(""),b=d(null),U=d(!1),C=d(!1),E=d(""),g=d([]),k=d([]),{produto:M}=de(h);ue(()=>h.produto,t=>{t&&(l.value=t.nome||"",u.value=t.categoria||"",f.value=t.unidadeDeMedida||"",w.value=t.profile_photo||"",g.value=t.precos.reduce((o,r)=>(o[r.fornecedor_id]=r.preco_unitario?$(r.preco_unitario):"",o),{}))},{immediate:!0});const R=async()=>{try{const t=await q.get("/api/fornecedores");k.value=t.data.data,M.value.precos.forEach(o=>{g.value[o.id]=(o.preco_unitario/100).toFixed(2)})}catch(t){console.error("Erro ao carregar fornecedores:",t)}};se(()=>{R()});const V=async()=>{if(!l.value){m.error("O campo nome é obrigatório.");return}try{U.value=!0;const t=new FormData;t.append("id",h.produto.id),t.append("nome",l.value),t.append("categoria",u.value),t.append("unidadeDeMedida",f.value),F.value&&t.append("profile_photo",F.value),Object.entries(g.value).forEach(([r,O])=>{if(r==="undefined"||r===null)return;const ne=O.replace(/\D/g,"");t.append("precos[]",JSON.stringify({preco_id:null,fornecedor_id:r,preco_unitario:ne}))});const o=await q.post("/api/produtos/atualizar",t,{headers:{"Content-Type":"multipart/form-data"}});ee.Inertia.replace(route("franqueadora.insumos"),{produto:o.data.produto,preserveState:!0}),m.success("Produto atualizado com sucesso!")}catch(t){console.error("Erro ao atualizar o produto:",t),t.response?m.error(`Erro: ${t.response.data.message||"Erro desconhecido"}`):t.request?m.error("Erro ao conectar ao servidor. Tente novamente."):m.error(`Erro: ${t.message}`)}finally{U.value=!1}},Q=t=>{let o=g.value[t]||"";o=o.toString().replace(/\D/g,""),o=(parseInt(o,10)/100).toFixed(2);const r=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o);g.value[t]=`R$ ${r}`},X=t=>t?new URL(t,window.location.origin).href:"/storage/images/no_imagem.svg",J=t=>{E.value=t,C.value=!0},A=()=>{V(),C.value=!1},Z=()=>{C.value=!1},z=()=>{var t;(t=b.value)==null||t.click()},v=()=>{w.value="",m.info("Imagem removida.")},s=t=>{const o=t.target.files[0];if(o){if(o.size>5*1024*1024){m.error("A imagem não pode exceder 5 MB.");return}F.value=o;const r=new FileReader;r.onload=()=>{w.value=r.result,m.success("Imagem carregada com sucesso!")},r.readAsDataURL(o)}},n=()=>{_("cancelar")};return(t,o)=>(a(),N(ae,{name:"fade"},{default:W(()=>[c.isVisible?(a(),i("div",Pe,[U.value?(a(),i("div",Ue,o[7]||(o[7]=[e("div",{class:"spinner"},null,-1)]))):(a(),i("div",Fe,[e("form",{onSubmit:S(V,["prevent"])},[e("div",De,[e("div",{class:"w-[110px] h-[110px] bg-[#f3f8f3] rounded-xl flex items-center justify-center cursor-pointer overflow-hidden relative",onClick:z},[w.value?(a(),i(L,{key:0},[e("img",{src:X(w.value),alt:"Imagem selecionada",class:"w-full h-full object-cover"},null,8,Ie),e("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",onClick:o[0]||(o[0]=S(()=>{},["stop"]))},[e("button",{onClick:S(v,["stop"]),class:"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm"}," X ")])],64)):(a(),i("img",je))]),e("input",{type:"file",ref_key:"fileInput",ref:b,accept:"image/*",class:"hidden",onChange:s},null,544)]),x(B,{text:"Nome"}),x(re,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=r=>l.value=r),placeholder:""},null,8,["modelValue"]),D.value?(a(),i("div",Ee,j(D.value),1)):y("",!0),x(B,{class:"font-semibold text-gray-800 mt-8",text:"Prioridade"}),e("div",Me,[e("label",Re,[P(e("input",{type:"radio","onUpdate:modelValue":o[2]||(o[2]=r=>u.value=r),value:"principal",class:"hidden"},null,512),[[I,u.value]]),e("div",Se,[u.value==="principal"?(a(),i("div",Be)):y("",!0)]),o[8]||(o[8]=e("span",null,"Principal",-1))]),e("label",qe,[P(e("input",{type:"radio","onUpdate:modelValue":o[3]||(o[3]=r=>u.value=r),value:"secundario",class:"hidden"},null,512),[[I,u.value]]),e("div",Le,[u.value==="secundario"?(a(),i("div",Ne)):y("",!0)]),o[9]||(o[9]=e("span",null,"Secundário",-1))])]),x(B,{class:"font-semibold text-gray-800 mt-8",text:"Unidade de medida"}),e("div",Ae,[e("label",ze,[P(e("input",{type:"radio","onUpdate:modelValue":o[4]||(o[4]=r=>f.value=r),value:"a_granel",class:"hidden"},null,512),[[I,f.value]]),e("div",Oe,[f.value==="a_granel"?(a(),i("div",Te)):y("",!0)]),o[10]||(o[10]=e("span",null,"A granel",-1))]),e("label",Qe,[P(e("input",{type:"radio","onUpdate:modelValue":o[5]||(o[5]=r=>f.value=r),value:"unitario",class:"hidden"},null,512),[[I,f.value]]),e("div",Xe,[f.value==="unitario"?(a(),i("div",Je)):y("",!0)]),o[11]||(o[11]=e("span",null,"Unitário",-1))])]),e("div",Ze,[e("table",Ge,[o[12]||(o[12]=e("thead",null,[e("tr",{class:"bg-[#d2fac3]"},[e("th",{class:"px-6 py-2 text-left text-[15px] font-semibold text-[#1d5915] uppercase tracking-wider rounded-tl-2xl"}," Fornecedores "),e("th",{class:"px-6 py-2 text-[15px] font-semibold text-[#1d5915] uppercase tracking-wider rounded-tr-2xl"}," Valor ")])],-1)),e("tbody",null,[(a(!0),i(L,null,H(k.value,r=>(a(),i("tr",{key:r.id},[e("td",He,j(r.razao_social),1),e("td",Ke,[P(e("input",{"onUpdate:modelValue":O=>g.value[r.id]=O,type:"text",placeholder:"R$ 0,00",onInput:O=>Q(r.id),class:"border rounded-lg px-2 py-1 w-[110px] h-[38px] text-center"},null,40,We),[[G,g.value[r.id]]])])]))),128))])])]),e("div",Ye,[x(le,{text:"Cancelar",onClick:n}),x(Y,{text:"Atualizar",onClick:o[6]||(o[6]=r=>J("Atualizar esse Produto?"))})])],32),x(te,{isVisible:C.value,motivo:E.value,onConfirm:A,onCancel:Z},null,8,["isVisible","motivo"])]))])):y("",!0)]),_:1}))}},tt=T(et,[["__scopeId","data-v-3c308f0d"]]),ot={class:"elemento-fixo"},st={key:0,class:"w-full h-[200px] bg-white rounded-[20px] p-12"},at={class:"relative w-full h-full"},rt={class:"flex items-center"},lt={class:"w-1/1 flex justify-center"},nt=["src"],it={class:"w-2/3 pl-5"},dt={class:"text-[#262a27] text-[28px] font-bold font-['Figtree'] leading-[30px] tracking-tight"},ut={class:"owner"},ct={class:"w-1/1"},pt={key:1,class:"mt-4"},mt={__name:"DetalhesProduto",props:{produto:{type:Object,required:!0}},setup(c){const p=K(),m=c,$=d(!1),h=d(""),_=d(!1),l=d(!1),u=d(!1),f=()=>{d.dadosProduto.fetchProduto()},w=g=>g?new URL(g,window.location.origin).href:"/storage/images/no_imagem.svg",F=async()=>{var g,k,M,R;try{u.value=!0;const V=await q.delete(`/api/produtos/excluir/${m.produto.id}`);console.log(V.data.message),p.success("Produto deletado com sucesso!"),ee.Inertia.visit(route("franqueadora.insumos"))}catch(V){p.error("Erro ao deletar o produto:",((k=(g=V.response)==null?void 0:g.data)==null?void 0:k.error)||V.message),console.error("Erro ao deletar o produto:",((R=(M=V.response)==null?void 0:M.data)==null?void 0:R.error)||V.message)}finally{u.value=!1}},D=()=>{l.value=!l.value,_.value=!1},b=g=>{h.value=g,$.value=!0},U=()=>{F(),$.value=!1},C=()=>{$.value=!1},E=()=>{l.value=!1,_.value=!0};return(g,k)=>(a(),i("div",ot,[l.value?y("",!0):(a(),i("div",st,[e("div",at,[e("div",rt,[e("div",lt,[e("img",{src:w(c.produto.profile_photo),alt:"Foto do Usuário",class:"w-20 h-20 rounded-md shadow-lg"},null,8,nt)]),e("div",it,[e("div",dt,[oe(j(c.produto.nome||"N/A")+" ",1),e("div",ut,j(c.produto.categoria)+" / "+j(c.produto.unidadeDeMedida),1)])]),e("div",ct,[x(te,{isVisible:$.value,motivo:h.value,onConfirm:U,onCancel:C},null,8,["isVisible","motivo"]),e("div",{class:"absolute top-4 right-4 cursor-pointer",onClick:k[0]||(k[0]=M=>b("Excluir esse produto?"))},k[1]||(k[1]=[e("img",{src:"/storage/images/delete.svg",alt:"Deletar Usuário",class:"w-6 h-6"},null,-1)]))])])])])),c.produto.id&&!l.value?(a(),i("div",pt,[x(me,{text:"Editar insumos","icon-path":"/storage/images/border_color.svg",onClick:D,class:"px-4 py-2 bg-[#F8F8F8] text-white rounded-lg"})])):y("",!0),l.value?(a(),N(tt,{key:2,ref:"dadosProduto",isVisible:l.value,produto:c.produto,onDadosProduto:f,onCancelar:E},null,8,["isVisible","produto"])):y("",!0)]))}},ft=T(mt,[["__scopeId","data-v-19abdf40"]]),vt={key:0,class:"sidebar-container elemento-fixo"},gt={key:0,class:"loading-overlay"},xt={key:1,class:"w-full h-[80%] bg-white rounded-[20px] p-12"},ht={class:"flex justify-center mb-6 relative group"},_t=["src"],yt={key:1,src:"/storage/images/arrow_upload_ready.svg",alt:"Ícone de upload"},bt={key:0,class:"error-message"},wt={class:"flex items-center space-x-4 mt-2"},$t={class:"flex items-center space-x-2 cursor-pointer"},kt={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Ct={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Vt={class:"flex items-center space-x-2 cursor-pointer"},Pt={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Ut={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Ft={class:"flex items-center space-x-4 mt-2"},Dt={class:"flex items-center space-x-2 cursor-pointer"},It={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},jt={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Et={class:"flex items-center space-x-2 cursor-pointer"},Mt={class:"w-5 h-5 rounded-full border-2 border-green-500 flex items-center justify-center"},Rt={key:0,class:"w-3 h-3 rounded-full bg-green-500"},St={class:"mt-12"},Bt={class:"min-w-full table-auto"},qt={class:"px-6 py-2 text-[16px] text-gray-800 font-semibold text-left"},Lt={class:"px-6 py-2 text-[16px] text-gray-800 font-semibold text-center"},Nt=["onUpdate:modelValue","onInput"],At={class:"flex justify-start space-x-1 mt-[15%]"},zt={__name:"CadastroProduto",props:{isVisible:{type:Boolean,required:!0}},emits:["cancelar"],setup(c,{emit:p}){const m=K(),$=p,h=d(""),_=d(""),l=d(""),u=d(""),f=d(null),w=d(""),F=d(null),D=d(!1),b=d({}),U=d([]),C=d(!1),E=d("");se(async()=>{try{const v=await q.get("/api/fornecedores");U.value=v.data.data,U.value.forEach(s=>{b.value[s.id]||(b.value[s.id]="R$ 0,00")})}catch{m.error("Erro ao carregar fornecedores.")}U.value.forEach(v=>{b.value[v.id]&&g(v.id)})});const g=v=>{let s=b.value[v]||"";s=s.toString().replace(/\D/g,""),s=(parseInt(s,10)/100).toFixed(2);const n=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(s);b.value[v]=`R$ ${n}`},k=()=>{var v;(v=F.value)==null||v.click()},M=v=>{E.value=v,C.value=!0},R=()=>{z(),C.value=!1},V=()=>{C.value=!1},Q=()=>{_.value="",m.info("Imagem removida.")},X=v=>{const s=v.target.files[0];if(s){f.value=s;const n=new FileReader;n.onload=()=>{_.value=n.result,m.success("Imagem carregada com sucesso!")},n.readAsDataURL(s)}},J=()=>{A(),$("cancelar")},A=()=>{h.value="",l.value="",u.value="",_.value="",f.value=null,w.value=""},Z=()=>!h.value||!f.value||!u||!l?(m.error("Por favor, preencha todos os campos obrigatórios."),w.value="Por favor, preencha todos os campos obrigatórios.",!1):!0,z=async()=>{var v,s;if(Z())try{D.value=!0;const n=new FormData;n.append("nome",h.value),n.append("categoria",l.value),n.append("unidadeDeMedida",u.value),n.append("profile_photo",f.value),b.value&&Object.keys(b.value).length>0&&Object.entries(b.value).forEach(([o,r])=>{r&&r!==""&&r!=="R$ NaN"&&n.append(`precos[${o}]`,r)});const t=await q.post("/api/produtos/cadastrar",n,{headers:{"Content-Type":"multipart/form-data"}});m.success("Produto cadastrado com sucesso!"),ee.Inertia.visit(route("franqueadora.insumos")),A()}catch(n){m.error("Erro ao cadastrar o produto."),w.value=((s=(v=n.response)==null?void 0:v.data)==null?void 0:s.message)||"Erro inesperado."}finally{D.value=!1}};return(v,s)=>(a(),N(ae,{name:"fade"},{default:W(()=>[c.isVisible?(a(),i("div",vt,[D.value?(a(),i("div",gt,s[7]||(s[7]=[e("div",{class:"spinner"},null,-1)]))):(a(),i("div",xt,[e("form",{onSubmit:S(z,["prevent"])},[e("div",ht,[e("div",{class:"w-[110px] h-[110px] bg-[#f3f8f3] rounded-xl flex items-center justify-center cursor-pointer overflow-hidden relative",onClick:k},[_.value?(a(),i(L,{key:0},[e("img",{src:_.value,alt:"Imagem selecionada",class:"w-full h-full object-cover"},null,8,_t),e("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",onClick:s[0]||(s[0]=S(()=>{},["stop"]))},[e("button",{onClick:S(Q,["stop"]),class:"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm"}," X ")])],64)):(a(),i("img",yt))]),e("input",{type:"file",ref_key:"fileInput",ref:F,accept:"image/*",class:"hidden",onChange:X},null,544)]),x(B,{text:"Nome"}),x(re,{modelValue:h.value,"onUpdate:modelValue":s[1]||(s[1]=n=>h.value=n),placeholder:"Shoyu Premium Sakaki"},null,8,["modelValue"]),w.value?(a(),i("div",bt,j(w.value),1)):y("",!0),x(B,{class:"font-semibold text-gray-800 mt-8",text:"Prioridade"}),e("div",wt,[e("label",$t,[P(e("input",{type:"radio","onUpdate:modelValue":s[2]||(s[2]=n=>l.value=n),value:"principal",class:"hidden"},null,512),[[I,l.value]]),e("div",kt,[l.value==="principal"?(a(),i("div",Ct)):y("",!0)]),s[8]||(s[8]=e("span",null,"Principal",-1))]),e("label",Vt,[P(e("input",{type:"radio","onUpdate:modelValue":s[3]||(s[3]=n=>l.value=n),value:"secundario",class:"hidden"},null,512),[[I,l.value]]),e("div",Pt,[l.value==="secundario"?(a(),i("div",Ut)):y("",!0)]),s[9]||(s[9]=e("span",null,"Secundário",-1))])]),x(B,{class:"font-semibold text-gray-800 mt-8",text:"Unidade de medida"}),e("div",Ft,[e("label",Dt,[P(e("input",{type:"radio","onUpdate:modelValue":s[4]||(s[4]=n=>u.value=n),value:"a_granel",class:"hidden"},null,512),[[I,u.value]]),e("div",It,[u.value==="a_granel"?(a(),i("div",jt)):y("",!0)]),s[10]||(s[10]=e("span",null,"A granel",-1))]),e("label",Et,[P(e("input",{type:"radio","onUpdate:modelValue":s[5]||(s[5]=n=>u.value=n),value:"unitario",class:"hidden"},null,512),[[I,u.value]]),e("div",Mt,[u.value==="unitario"?(a(),i("div",Rt)):y("",!0)]),s[11]||(s[11]=e("span",null,"Unitário",-1))])]),e("div",St,[e("table",Bt,[s[12]||(s[12]=e("thead",null,[e("tr",{class:"bg-[#d2fac3]"},[e("th",{class:"px-6 py-2 text-left text-[15px] font-semibold text-[#1d5915] uppercase tracking-wider rounded-tl-2xl"}," Fornecedor "),e("th",{class:"px-6 py-2 text-[15px] font-semibold text-[#1d5915] uppercase tracking-wider rounded-tr-2xl"}," Valor ")])],-1)),e("tbody",null,[(a(!0),i(L,null,H(U.value,n=>(a(),i("tr",{key:n.id},[e("td",qt,j(n.razao_social),1),e("td",Lt,[P(e("input",{"onUpdate:modelValue":t=>b.value[n.id]=t,type:"text",placeholder:"R$ 0,00",onInput:t=>g(n.id),class:"border rounded-lg px-2 py-1 w-[110px] h-[38px] text-center"},null,40,Nt),[[G,b.value[n.id]]])])]))),128))])])]),e("div",At,[x(le,{text:"Cancelar",onClick:J}),x(Y,{text:"Cadastrar",onClick:s[6]||(s[6]=n=>M("Criar novo Produto?"))})])],32)])),x(te,{isVisible:C.value,motivo:E.value,onConfirm:R,onCancel:V},null,8,["isVisible","motivo"])])):y("",!0)]),_:1}))}},Ot=T(zt,[["__scopeId","data-v-5de1db5d"]]),Tt={class:"flex flex-col gap-4"},Qt={class:"absolute bottom-4 right-4"},Xt={key:1,class:"mt-4"},ao={__name:"Index",setup(c){const p=d(null),m=d(!1),$=()=>{m.value=!m.value},h=()=>{_(),m.value=!1},_=()=>{var f;(f=d("listarUnidades").value)==null||f.fetchUnidades()},l=u=>{u&&typeof u=="object"?p.value=u:console.warn("Dados inválidos recebidos no evento produto-selecionado:",u)};return(u,f)=>(a(),N(ie,null,{default:W(()=>[x(ce(pe),{title:"Insumos"}),e("div",{class:"grid grid-cols-1 gap-[3rem] mt-3 sm:grid-cols-2 overflow-hidden card-container h-full overflow-y-scroll",onScrollPassive:f[0]||(f[0]=()=>{})},[e("div",null,[x(Ve,{ref:"listarUnidades",onUnidadeCadastrada:_,onProdutoSelecionado:l},null,512)]),e("div",Tt,[m.value?(a(),i("div",Xt,[x(Ot,{isVisible:m.value,onUnidadeCadastrada:h,onCancelar:$},null,8,["isVisible"])])):(a(),i(L,{key:0},[p.value?(a(),N(ft,{key:0,produto:p.value},null,8,["produto"])):y("",!0),e("div",Qt,[x(Y,{text:"Cadastrar insumo",iconPath:"/storage/images/arrow_left_alt.svg",onClick:$})])],64))])],32)]),_:1}))}};export{ao as default};
