import{T as c,d as p,e as d,o as u,b as l,a as s,u as t,Z as g,p as f,f as v,m as _,v as x,t as b,w,g as q,n as y,F as B}from"./app-lPgd_fOa.js";import{B as N}from"./ButtonPrimary-BjuuQgI7.js";import{_ as k}from"./InputError-DAk93ZE8.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"login-container"},h={class:"login-box"},C={class:"login-box-inner"},I={class:"input-container"},P={key:0,class:"mb-4 font-medium text-sm text-red-600 text-center"},T={__name:"LoginEstoque",props:{canResetPassword:Boolean,status:String},setup(A){const o=c({pin:""}),a=p(null),m=async()=>{var r,e,i;a.value=null;try{const n=await o.post(route("login.estoque"),{onFinish:()=>o.reset("pin")});(r=n.data)!=null&&r.redirect&&(window.location.href=n.data.redirect)}catch(n){((e=n.response)==null?void 0:e.status)===403?a.value="Acesso negado ao controle de estoque.":((i=n.response)==null?void 0:i.status)===401?a.value="PIN inválido.":console.log("Ouve um erro inesperado")}};return(r,e)=>(u(),d(B,null,[l(t(g),{title:"Acessar"}),s("div",V,[e[4]||(e[4]=s("img",{class:"background-img transform scale-x-[-1]",src:"/storage/images/mulher_login_estoque.png",alt:"Imagem de fundo representando uma mulher usando um computador"},null,-1)),e[5]||(e[5]=s("img",{class:"logo-img",src:"/storage/images/logo_tipo.png",alt:"Logo do Taiksu"},null,-1)),s("div",h,[s("div",C,[e[3]||(e[3]=s("div",{class:"title-container"},[s("div",{class:"title"},"Controle de estoque"),s("div",{class:"subtitle"},"Registro de retirada em estoque da loja.")],-1)),s("form",{onSubmit:f(m,["prevent"])},[s("div",I,[e[1]||(e[1]=s("label",{for:"pin"},"Seu PIN",-1)),_(s("input",{id:"pin","onUpdate:modelValue":e[0]||(e[0]=i=>t(o).pin=i),class:"input",type:"pin",placeholder:"●●●●",autocomplete:"off","aria-label":"Senha"},null,512),[[x,t(o).pin]]),l(k,{class:"mt-2 text-center",message:t(o).errors.pin},null,8,["message"])]),a.value?(u(),d("div",P,b(a.value),1)):v("",!0),l(N,{class:y({"opacity-25":t(o).processing}),disabled:t(o).processing},{default:w(()=>e[2]||(e[2]=[q(" Acessar ")])),_:1},8,["class","disabled"])],32)])])])],64))}},D=S(T,[["__scopeId","data-v-c45a38cd"]]);export{D as default};
