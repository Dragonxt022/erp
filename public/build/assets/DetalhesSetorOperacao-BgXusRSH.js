import{m as y,d as p,s as S,i as b,e as i,f as k,o as l,a as o,t as c,b as m,p as P,y as z,F as v,h as f,k as B}from"./app-BpJtz6--.js";import{B as C}from"./ButtonPrimaryMedio-BRqVjWrU.js";import{_ as D}from"./LabelModel-C-tTOP4a.js";const E={key:0},F={class:"w-full h-[180px] bg-white rounded-[20px] p-12 mb-4"},N={class:"flex items-center"},V={class:"w-1/1 flex justify-center"},j=["src"],M={class:"w-2/3 pl-5"},T={class:"text-[#262a27] text-[28px] font-bold font-['Figtree'] leading-[30px] tracking-tight"},A={class:"w-full h-[200px] bg-white rounded-[20px] py-3 px-12"},O=["value"],U=["value"],G={__name:"DetalhesSetorOperacao",props:{informacoes:{type:Object,required:!0}},emits:["cancelar","pontuacaoSelecionada"],setup(u,{emit:g}){const d=g,n=y(),r=u,e=p(r.informacoes.pontos||"");S(()=>r.informacoes.pontos,t=>{e.value=t||""});const _=()=>{d("pontuacaoSelecionada",e.value)},x=b(()=>!e.value||e.value===0?"/storage/images/neutro.svg":e.value>0?"/storage/images/positivo.svg":"/storage/images/negativo.svg"),h=async()=>{if(e.value===""||e.value===null){n.error("Selecione uma pontuação válida antes de salvar.");return}try{const t=new FormData;t.append("pontos",e.value),t.append("_method","PUT"),await B.post(`/api/pontos/${r.informacoes.id}`,t,{headers:{"Content-Type":"multipart/form-data"}}),n.success("Pontuação atualizada com sucesso!"),d("pontuacaoSelecionada",e.value),window.location.reload()}catch(t){console.error("Erro ao atualizar pontuação:",t),n.error("Erro ao atualizar pontuação.")}},w=p(!1);return(t,s)=>w.value?k("",!0):(l(),i("div",E,[o("div",F,[o("div",N,[o("div",V,[o("img",{src:x.value,alt:"Ícone pontuação",class:"w-20 h-20 p-2 rounded-md shadow-lg"},null,8,j)]),o("div",M,[o("div",T,c(u.informacoes.name||"N/A"),1)])])]),o("div",A,[m(D,{text:"Pontuação"}),P(o("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a),onChange:_,class:"p-2 w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"},[s[1]||(s[1]=o("option",{disabled:"",value:""},"Selecione a pontuação",-1)),(l(),i(v,null,f(10,a=>o("option",{key:"neg-"+a,value:-a},"-"+c(a),9,O)),64)),(l(),i(v,null,f(10,a=>o("option",{key:"pos-"+a,value:a},"+"+c(a),9,U)),64))],544),[[z,e.value]]),m(C,{text:"Salvar Critério",class:"w-full mt-5",onClick:h}),s[2]||(s[2]=o("div",{class:"text-gray-700 text-sm text-center"},"As próximas execuções da produção já utilizarão os novos valores.",-1))])]))}};export{G as _};
