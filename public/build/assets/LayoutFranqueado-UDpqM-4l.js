import{y as q,i as g,o as r,e as c,a as e,t as v,d as P,m as w,C as I,c as x,w as A,n as L,p as y,u as h,z as $,F as k,g as p,b,h as N,N as B,Z as T,r as U}from"./app-DWBgDKOr.js";import{u as M}from"./user-BjwzYOzh.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={setup(){const t=M();q(async()=>{t.user||await t.fetchUserProfile()});const s=g(()=>t.user),i=g(()=>{var a;return(a=t.user)==null?void 0:a.unidade}),u=g(()=>{var a,l;return((a=s.value)==null?void 0:a.profile_photo_url)||`https://ui-avatars.com/api/?name=${m((l=s.value)==null?void 0:l.name)}&color=7F9CF5&background=EBF4FF`});function m(a){return a?a.split(" ").map(o=>o.charAt(0).toUpperCase()).join(""):"*"}return{user:s,profilePhoto:u,unidade:i}}},V={class:"navbar"},O={class:"navbar-content"},j={class:"navbar-left"},z={class:"navbar-logo"},J=["href"],R={class:"navbar-right"},D={class:"user-info"},G=["src"],K={class:"user-details"},Q={class:"user-name"},W={class:"user-location"};function Z(t,s,i,u,m,a){var l,n;return r(),c("div",V,[s[3]||(s[3]=e("div",{class:"navbar-background"},null,-1)),e("div",O,[e("div",j,[e("div",z,[s[1]||(s[1]=e("div",{class:"mr-4"},[e("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[e("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),e("div",null,[e("a",{href:t.route("franqueado.painel")},s[0]||(s[0]=[e("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,J)])])]),e("div",R,[s[2]||(s[2]=e("div",{class:"notification"},[e("div",{class:"circle"},[e("img",{src:"/storage/images/icon_notification.svg",alt:"icone notificação"})]),e("div",{class:"inner-circle"})],-1)),e("div",D,[e("img",{src:u.profilePhoto,alt:"Avatar",class:"avatar"},null,8,G),e("div",K,[e("div",Q,v((l=u.user)==null?void 0:l.name),1),e("div",W,v(((n=u.unidade)==null?void 0:n.cidade)||"Taiksu Franchising"),1)])])])])])}const H=_(E,[["render",Z],["__scopeId","data-v-7f7da930"]]),X={class:"icon"},Y=["src"],ee={class:"label"},se={type:"submit",class:"w-full h-full flex items-center"},te={class:"icon"},ae=["src"],oe={class:"label"},ie={key:2,class:"submenu"},ne={class:"label"},le={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean,submenuItems:{type:Array,default:()=>[]}},setup(t){const s=t,i=P(!1),u=()=>{const d=localStorage.getItem(`submenu-${s.link}`);d!==null&&(i.value=JSON.parse(d))},m=()=>{localStorage.setItem(`submenu-${s.link}`,JSON.stringify(i.value))},a=()=>{i.value=!i.value,m()},l=g(()=>o.value||s.isActive?"submenu-active":""),n=d=>{const S=window.location.pathname,f=new URL(route(d),window.location.origin).pathname;return S===f},o=g(()=>s.submenuItems.some(d=>n(d.link))),C=()=>{s.isLogout&&B.post(route("logout"))};return u(),w(o,()=>{o.value||I(()=>{i.value=!1,m()})}),w(i,d=>{I(()=>{m()})}),(d,S)=>(r(),c("div",null,[t.isLogout?(r(),c("form",{key:1,onSubmit:y(C,["prevent"]),class:"menu-item"},[e("button",se,[e("div",te,[e("img",{src:t.icon,alt:"icon"},null,8,ae)]),e("div",oe,v(t.label),1)])],32)):(r(),x(h($),{key:0,class:L(["menu-item",[l.value,{active:t.isActive||o.value}]]),href:t.link,onClick:y(a,["prevent"])},{default:A(()=>[e("div",X,[e("img",{src:t.icon,alt:"icon"},null,8,Y)]),e("div",ee,v(t.label),1)]),_:1},8,["class","href"])),t.submenuItems&&t.submenuItems.length>0&&(i.value||o.value)?(r(),c("div",ie,[(r(!0),c(k,null,p(t.submenuItems,(f,F)=>(r(),c("div",{key:F},[b(h($),{class:L(["submenu-item",{active:n(f.link)}]),href:d.route(f.link)},{default:A(()=>[e("div",ne,v(f.label),1)]),_:2},1032,["href","class"])]))),128))])):N("",!0)]))}},re=_(le,[["__scopeId","data-v-702fd6b5"]]),ce={class:"category-title menu-categorias text-sm sm:text-base font-medium text-[#87ba73] mb-3 pl-4"},ue={__name:"Slidebar",setup(t){const s=P(null),i=[{name:"",items:[{label:"Inicio",icon:"/storage/images/inicio.svg",link:"franqueado.painel",isLogout:!1,isActive:!1}]},{name:"Ferramentas",items:[{label:"E-mail",icon:"/storage/images/email.svg",link:"franqueado.email",isLogout:!1,isActive:!1},{label:"Comunidade",icon:"/storage/images/diversity_4.svg",link:"franqueado.comunidade",isLogout:!1,isActive:!1},{label:"Mídias",icon:"/storage/images/perm_media.svg",link:"franqueado.midias",isLogout:!1,isActive:!1}]},{name:"Gestão da loja",items:[{label:"Controle de estoque",icon:"/storage/images/estoque.svg",link:"franqueado.estoque",isLogout:!1,submenuItems:[{label:"Inventário",icon:"/storage/images/add_product.svg",link:"franqueado.inventario"},{label:"Fornecedores",link:"franqueado.fornecedores"},{label:"Pedidos",link:"franqueado.pedidos"}],isActive:!1},{label:"Taiksu IA",icon:"/storage/images/TAIKSU_IA_ICONE.svg",link:"franqueado.midias",isLogout:!1,isActive:!1},{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];q(()=>{const a=localStorage.getItem("sidebarScrollPosition");a&&s.value&&(s.value.scrollTop=a)});const u=()=>{s.value&&localStorage.setItem("sidebarScrollPosition",s.value.scrollTop)},m=a=>{const l=window.location.pathname,n=new URL(a,window.location.origin).pathname;return l===n||l.startsWith(n)};return(a,l)=>(r(),c("div",null,[e("div",{class:"sidebar fixed top-16 left-0 bg-[#164110] text-white flex flex-col p-4 overflow-y-auto h-full sm:w-64 md:w-72 lg:w-80 xl:w-80",ref_key:"sidebar",ref:s,onScroll:u},[(r(),c(k,null,p(i,n=>e("div",{key:n.name,class:"menu-category mb-6"},[e("div",ce,v(n.name),1),(r(!0),c(k,null,p(n.items,o=>(r(),x(re,{key:o.link,label:o.label,icon:o.icon,link:a.route(o.link),submenuItems:o.submenuItems,isActive:m(a.route(o.link)),isLogout:o.isLogout},null,8,["label","icon","link","submenuItems","isActive","isLogout"]))),128))])),64))],544)]))}},de=_(ue,[["__scopeId","data-v-5965646f"]]),me={class:"content"},ve={__name:"LayoutFranqueado",props:{title:String},setup(t){return(s,i)=>(r(),c("div",null,[b(h(T),{title:t.title},null,8,["title"]),b(H),b(de),e("main",me,[U(s.$slots,"default",{},void 0,!0)])]))}},he=_(ve,[["__scopeId","data-v-1956f7d2"]]);export{he as L};
