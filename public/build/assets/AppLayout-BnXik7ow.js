import{M as L,y as S,C as p,m as f,o as r,e as u,a as s,t as g,c as b,w,n as $,u as k,k as y,i as P,N as I,d as A,F as _,g as h,b as v,Z as F,r as B}from"./app-BtLXV0vF.js";import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C=L("user",{state:()=>({user:null}),actions:{async fetchUserProfile(){if(!this.user)try{const e=await S.get("/api/profile");e.data.status==="success"?this.user=e.data.data:console.error("Erro ao carregar o perfil:",e.data.message)}catch(e){console.error("Erro ao buscar perfil:",e)}},clearUser(){this.user=null}}}),M={setup(){const e=C();p(async()=>{e.user||await e.fetchUserProfile()});const a=f(()=>e.user),c=f(()=>{var o;return(o=e.user)==null?void 0:o.unidade}),n=f(()=>{var o,t;return((o=a.value)==null?void 0:o.profile_photo_url)||`https://ui-avatars.com/api/?name=${d((t=a.value)==null?void 0:t.name)}&color=7F9CF5&background=EBF4FF`});function d(o){return o?o.split(" ").map(l=>l.charAt(0).toUpperCase()).join(""):"NN"}return{user:a,profilePhoto:n,unidade:c}}},N={class:"navbar"},U={class:"navbar-content"},x={class:"navbar-left"},E={class:"navbar-logo"},q=["href"],T={class:"navbar-right"},V={class:"user-info"},G=["src"],j={class:"user-details"},z={class:"user-name"},D={class:"user-location"};function Q(e,a,c,n,d,o){var t,i;return r(),u("div",N,[a[3]||(a[3]=s("div",{class:"navbar-background"},null,-1)),s("div",U,[s("div",x,[s("div",E,[a[1]||(a[1]=s("div",{class:"mr-4"},[s("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[s("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),s("div",null,[s("a",{href:e.route("painel")},a[0]||(a[0]=[s("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,q)])])]),s("div",T,[a[2]||(a[2]=s("div",{class:"notification"},[s("div",{class:"circle"},[s("img",{src:"/storage/images/icon_notification.svg",alt:"icone notificação"})]),s("div",{class:"inner-circle"})],-1)),s("div",V,[s("img",{src:n.profilePhoto,alt:"Avatar",class:"avatar"},null,8,G),s("div",j,[s("div",z,g((t=n.user)==null?void 0:t.name),1),s("div",D,g(((i=n.unidade)==null?void 0:i.cidade)||"Taiksu Franchising"),1)])])])])])}const R=m(M,[["render",Q],["__scopeId","data-v-78482a42"]]),W={class:"icon"},Z=["src"],H={class:"label"},J={type:"submit",class:"w-full h-full flex items-center"},K={class:"icon"},O=["src"],X={class:"label"},Y={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean},setup(e){const a=e,c=()=>{a.isLogout&&I.post(route("logout"))};return(n,d)=>e.isLogout?(r(),u("form",{key:1,onSubmit:P(c,["prevent"]),class:"menu-item"},[s("button",J,[s("div",K,[s("img",{src:e.icon,alt:"icon"},null,8,O)]),s("div",X,g(e.label),1)])],32)):(r(),b(k(y),{key:0,class:$(["menu-item",{active:e.isActive}]),href:e.link},{default:w(()=>[s("div",W,[s("img",{src:e.icon,alt:"icon"},null,8,Z)]),s("div",H,g(e.label),1)]),_:1},8,["class","href"]))}},ss=m(Y,[["__scopeId","data-v-ab0e2a57"]]),es={class:"category-title"},as={__name:"Slidebar",setup(e){const a=A(null);p(()=>{const o=localStorage.getItem("sidebarScrollPosition");o&&a.value&&(a.value.scrollTop=o)});const c=()=>{a.value&&localStorage.setItem("sidebarScrollPosition",a.value.scrollTop)},n=o=>{const t=window.location.pathname,i=new URL(o,window.location.origin).pathname;return t===i||t.startsWith(i)},d=[{name:"",items:[{label:"Visão Geral",icon:"/storage/images/insert_chart.svg",link:"painel",isLogout:!1}]},{name:"Painel",items:[{label:"E-mail",icon:"/storage/images/email.svg",link:"email",isLogout:!1},{label:"Comunidade",icon:"/storage/images/diversity_4.svg",link:"comunidade",isLogout:!1},{label:"Mídias",icon:"/storage/images/perm_media.svg",link:"midias",isLogout:!1}]},{name:"Gestão da rede",items:[{label:"Megafone",icon:"/storage/images/campaign.svg",link:"megafone",isLogout:!1},{label:"Franqueados",icon:"/storage/images/person.svg",link:"franqueados",isLogout:!1},{label:"Unidades",icon:"/storage/images/storefront.svg",link:"unidades",isLogout:!1}]},{name:"Parâmetros da franquia",items:[{label:"Fornecedores",icon:"/storage/images/handshake_branca.svg",link:"fornecedores",isLogout:!1},{label:"Insumos",icon:"/storage/images/insumos.svg",link:"insumos",isLogout:!1},{label:"Inspetor",icon:"/storage/images/inspecionador.svg",link:"inspetor",isLogout:!1},{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];return(o,t)=>(r(),u("div",{class:"sidebar",ref_key:"sidebar",ref:a,onScroll:c},[(r(),u(_,null,h(d,i=>s("div",{key:i.name,class:"menu-category"},[s("div",es,g(i.name),1),(r(!0),u(_,null,h(i.items,l=>(r(),b(ss,{key:l.link,label:l.label,icon:l.icon,link:o.route(l.link),isActive:n(o.route(l.link)),isLogout:l.isLogout},null,8,["label","icon","link","isActive","isLogout"]))),128))])),64))],544))}},os=m(as,[["__scopeId","data-v-b1eed616"]]),ts={class:"content"},is={__name:"AppLayout",props:{title:String},setup(e){return(a,c)=>(r(),u("div",null,[v(k(F),{title:e.title},null,8,["title"]),v(R),v(os),s("main",ts,[B(a.$slots,"default",{},void 0,!0)])]))}},rs=m(is,[["__scopeId","data-v-5a51be22"]]);export{rs as A};
