import{y as b,i as f,o as l,e as d,a as s,t as g,c as p,w as L,n as S,u as k,z as q,p as w,N as $,d as P,F as _,g as h,b as v,Z as y,r as F}from"./app-DQS7A7Rv.js";import{u as I}from"./user-DC5DM_Lm.js";import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={setup(){const a=I();b(async()=>{a.user||await a.fetchUserProfile()});const e=f(()=>a.user),c=f(()=>{var o;return(o=a.user)==null?void 0:o.unidade}),n=f(()=>{var o,i;return((o=e.value)==null?void 0:o.profile_photo_url)||`https://ui-avatars.com/api/?name=${u((i=e.value)==null?void 0:i.name)}&color=7F9CF5&background=EBF4FF`});function u(o){return o?o.split(" ").map(r=>r.charAt(0).toUpperCase()).join(""):"NN"}return{user:e,profilePhoto:n,unidade:c}}},B={class:"navbar"},N={class:"navbar-content"},C={class:"navbar-left"},M={class:"navbar-logo"},U=["href"],x={class:"navbar-right"},E={class:"user-info"},T=["src"],V={class:"user-details"},z={class:"user-name"},G={class:"user-location"};function j(a,e,c,n,u,o){var i,t;return l(),d("div",B,[e[3]||(e[3]=s("div",{class:"navbar-background"},null,-1)),s("div",N,[s("div",C,[s("div",M,[e[1]||(e[1]=s("div",{class:"mr-4"},[s("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[s("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),s("div",null,[s("a",{href:a.route("franqueadora.painel")},e[0]||(e[0]=[s("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,U)])])]),s("div",x,[e[2]||(e[2]=s("div",{class:"notification"},[s("div",{class:"circle"},[s("img",{src:"/storage/images/icon_notification.svg",alt:"icone notificação"})]),s("div",{class:"inner-circle"})],-1)),s("div",E,[s("img",{src:n.profilePhoto,alt:"Avatar",class:"avatar"},null,8,T),s("div",V,[s("div",z,g((i=n.user)==null?void 0:i.name),1),s("div",G,g(((t=n.unidade)==null?void 0:t.cidade)||"Taiksu Franchising"),1)])])])])])}const D=m(A,[["render",j],["__scopeId","data-v-0e874165"]]),Q={class:"icon"},R=["src"],W={class:"label"},Z={type:"submit",class:"w-full h-full flex items-center"},H={class:"icon"},J=["src"],K={class:"label"},O={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean},setup(a){const e=a,c=()=>{e.isLogout&&$.post(route("logout"))};return(n,u)=>a.isLogout?(l(),d("form",{key:1,onSubmit:w(c,["prevent"]),class:"menu-item"},[s("button",Z,[s("div",H,[s("img",{src:a.icon,alt:"icon"},null,8,J)]),s("div",K,g(a.label),1)])],32)):(l(),p(k(q),{key:0,class:S(["menu-item",{active:a.isActive}]),href:a.link},{default:L(()=>[s("div",Q,[s("img",{src:a.icon,alt:"icon"},null,8,R)]),s("div",W,g(a.label),1)]),_:1},8,["class","href"]))}},X=m(O,[["__scopeId","data-v-82451a39"]]),Y={class:"category-title"},ss={__name:"Slidebar",setup(a){const e=P(null);b(()=>{const o=localStorage.getItem("sidebarScrollPosition");o&&e.value&&(e.value.scrollTop=o)});const c=()=>{e.value&&localStorage.setItem("sidebarScrollPosition",e.value.scrollTop)},n=o=>{const i=window.location.pathname,t=new URL(o,window.location.origin).pathname;return i===t||i.startsWith(t)},u=[{name:"",items:[{label:"Visão Geral",icon:"/storage/images/insert_chart.svg",link:"franqueadora.painel",isLogout:!1}]},{name:"Painel",items:[{label:"E-mail",icon:"/storage/images/email.svg",link:"franqueadora.email",isLogout:!1},{label:"Comunidade",icon:"/storage/images/diversity_4.svg",link:"franqueadora.comunidade",isLogout:!1},{label:"Mídias",icon:"/storage/images/perm_media.svg",link:"franqueadora.midias",isLogout:!1}]},{name:"Gestão da rede",items:[{label:"Megafone",icon:"/storage/images/campaign.svg",link:"franqueadora.megafone",isLogout:!1},{label:"Franqueados",icon:"/storage/images/person.svg",link:"franqueadora.franqueados",isLogout:!1},{label:"Unidades",icon:"/storage/images/storefront.svg",link:"franqueadora.unidades",isLogout:!1}]},{name:"Parâmetros da franquia",items:[{label:"Fornecedores",icon:"/storage/images/handshake_branca.svg",link:"franqueadora.fornecedores",isLogout:!1},{label:"Insumos",icon:"/storage/images/insumos_nova.svg",link:"franqueadora.insumos",isLogout:!1},{label:"Inspetor",icon:"/storage/images/inspecionador.svg",link:"franqueadora.inspetor",isLogout:!1},{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];return(o,i)=>(l(),d("div",{class:"sidebar",ref_key:"sidebar",ref:e,onScroll:c},[(l(),d(_,null,h(u,t=>s("div",{key:t.name,class:"menu-category"},[s("div",Y,g(t.name),1),(l(!0),d(_,null,h(t.items,r=>(l(),p(X,{key:r.link,label:r.label,icon:r.icon,link:o.route(r.link),isActive:n(o.route(r.link)),isLogout:r.isLogout},null,8,["label","icon","link","isActive","isLogout"]))),128))])),64))],544))}},es=m(ss,[["__scopeId","data-v-adac51a2"]]),as={class:"content"},os={__name:"LayoutFranqueadora",props:{title:String},setup(a){return(e,c)=>(l(),d("div",null,[v(k(y),{title:a.title},null,8,["title"]),v(D),v(es),s("main",as,[F(e.$slots,"default",{},void 0,!0)])]))}},rs=m(os,[["__scopeId","data-v-bd0a65dc"]]);export{rs as A};
