import{d as m,i as O,j as f,e as r,o as n,a as t,f as V,t as v,q as j,p as g,y as b,F as h,h as x}from"./app-jruqp3tW.js";import{d as i}from"./dayjs.min-DVljmkUK.js";import"./pt-br-6FABo_vw.js";const J={class:"relative flex items-center space-x-2"},L={class:"relative"},N={class:"space-y-3"},S=["value"],z=["value"],q={__name:"CalendarFilterDre",props:{defaultToPreviousMonth:{type:Boolean,default:!1}},emits:["update-filters"],setup(y,{emit:k}){i.locale("pt-br");const M=y,w=k,s=m(M.defaultToPreviousMonth?i().subtract(1,"month"):i()),a=m(!1),u=m(s.value.month()),d=m(s.value.year()),Y=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],D=O(()=>{const l=i().year(),e=[];for(let o=l-10;o<=l+2;o++)e.push(o);return e}),C=()=>{s.value=s.value.subtract(1,"month"),c()},_=()=>{s.value=s.value.add(1,"month"),c()},P=()=>{a.value=!a.value,a.value&&(u.value=s.value.month(),d.value=s.value.year())},A=()=>{a.value=!1},B=()=>{s.value=i().year(d.value).month(u.value),a.value=!1,c()},c=()=>{const l=s.value.startOf("month").format("DD-MM-YYYY"),e=s.value.endOf("month").format("DD-MM-YYYY");w("update-filters",{startDate:l,endDate:e})};f(()=>{c()});const F=l=>{a.value&&!l.target.closest(".relative")&&(a.value=!1)};return f(()=>{document.addEventListener("click",F)}),(l,e)=>(n(),r("div",J,[t("button",{onClick:C,class:"text-indigo-600 hover:underline"},e[3]||(e[3]=[t("img",{src:"/storage/images/arrow_drop_down_circle.svg",alt:"icone drop",class:"w-5 h-5"},null,-1)])),t("div",L,[t("span",{onClick:P,class:"font-semibold text-gray-900 text-[17px] cursor-pointer hover:text-[#6db631] transition-colors"},v(s.value.format("MMMM YYYY")),1),a.value?(n(),r("div",{key:0,class:"absolute right-[-33%] z-50 bg-white border rounded-lg shadow-lg p-4 mt-2 min-w-[250px]",onClick:e[2]||(e[2]=j(()=>{},["stop"]))},[t("div",N,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mês",-1)),g(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#6db631]"},[(n(),r(h,null,x(Y,(o,p)=>t("option",{key:p,value:p},v(o),9,S)),64))],512),[[b,u.value]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ano",-1)),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#6db631]"},[(n(!0),r(h,null,x(D.value,o=>(n(),r("option",{key:o,value:o},v(o),9,z))),128))],512),[[b,d.value]])]),t("div",{class:"flex justify-end gap-2 pt-2"},[t("button",{onClick:A,class:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 font-medium"}," Cancelar "),t("button",{onClick:B,class:"px-4 py-2 text-sm bg-[#6db631] text-white rounded-md hover:bg-[#5a9929] font-medium"}," Aplicar ")])])])):V("",!0)]),t("button",{onClick:_,class:"text-indigo-600 hover:underline"},e[6]||(e[6]=[t("img",{src:"/storage/images/arrow_drop_direita_circle.svg",alt:"icone drop",class:"w-5 h-5"},null,-1)]))]))}};export{q as _};
