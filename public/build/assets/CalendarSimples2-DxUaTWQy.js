import{d as l}from"./dayjs.min-CJk3Ppmf.js";import"./pt-br-D_tZTbsz.js";import{d as f,j as E,i as L,e as d,o as u,a,f as M,t as v,F as x,h as b,n as N}from"./app-uJsVw_p1.js";const Q={class:"relative"},V={key:0},A={key:0,class:"absolute z-10 bg-white border rounded-xl shadow-lg w-[300px] p-4 left-[68px] transform -translate-x-1/2"},K={class:"flex items-center justify-between mb-3"},R={class:"font-semibold"},W={class:"grid grid-cols-7 gap-1 text-center text-sm"},$=["onClick"],U={__name:"CalendarSimples2",props:{defaultToPreviousMonth:{type:Boolean,default:!1}},emits:["update-filters","date-range-selected"],setup(_,{emit:O}){l.locale("pt-br");const g=_,m=O,c=f(!1),y=(()=>{if(g.defaultToPreviousMonth){const e=l().subtract(1,"month").startOf("month"),t=l().subtract(1,"month").endOf("month");return{start:e,end:t}}return{start:l().subtract(7,"day").startOf("day"),end:l().endOf("day")}})(),s=f(y.start),n=f(y.end),r=f(l()),p=f(!0),w=["D","S","T","Q","Q","S","S"];E(()=>{g.defaultToPreviousMonth&&(m("date-range-selected",{start_date:s.value.format("DD-MM-YYYY"),end_date:n.value.format("DD-MM-YYYY")}),m("update-filters",{startDate:s.value.format("DD-MM-YYYY"),endDate:n.value.format("DD-MM-YYYY")}))});const k=L(()=>{const e=[],t=r.value.startOf("month"),h=r.value.endOf("month").date(),D=t.day();for(let i=0;i<D;i++)e.push({day:"",date:null});for(let i=1;i<=h;i++){const z=t.date(i);e.push({day:i,date:z})}return e}),C=()=>{r.value=r.value.subtract(1,"month")},S=()=>{r.value=r.value.add(1,"month")},j=e=>e?e.isSame(s.value,"day")||e.isSame(n.value,"day"):!1,F=e=>!e||!s.value||!n.value?!1:e.isAfter(s.value,"day")&&e.isBefore(n.value,"day"),B=e=>{if(e)if(p.value)s.value=e.startOf("day"),p.value=!1;else{if(n.value=e.endOf("day"),n.value.isBefore(s.value)){const t=s.value;s.value=n.value,n.value=t}p.value=!0}},I=()=>{c.value=!c.value},P=()=>{const e=s.value.format("DD-MM-YYYY"),t=n.value.format("DD-MM-YYYY");console.log("Data inicial:",e),console.log("Data final:",t),m("update-filters",{startDate:e,endDate:t}),m("date-range-selected",{start_date:e,end_date:t}),c.value=!1},Y=()=>{s.value=l().subtract(7,"day").startOf("day"),n.value=l().endOf("day"),r.value=l(),p.value=!0},T=()=>{Y(),c.value=!1};return(e,t)=>(u(),d("div",Q,[a("div",{class:"flex items-center justify-between p-3 rounded-md cursor-pointer",onClick:I},[a("span",null,[s.value&&n.value?(u(),d("span",V,v(s.value.format("DD/MM/YYYY"))+" - "+v(n.value.format("DD/MM/YYYY")),1)):M("",!0)])]),c.value?(u(),d("div",A,[a("div",K,[a("button",{onClick:C,class:"flex items-center justify-between mb-3"},t[0]||(t[0]=[a("img",{src:"/storage/images/arrow_drop_down_circle.svg",alt:"icone drop",class:"w-5 h-5"},null,-1)])),a("span",R,v(r.value.format("MMMM YYYY")),1),a("button",{onClick:S,class:"text-indigo-600 hover:underline"},t[1]||(t[1]=[a("img",{src:"/storage/images/arrow_drop_direita_circle.svg",alt:"icone drop",class:"w-5 h-5"},null,-1)]))]),a("div",W,[(u(),d(x,null,b(w,o=>a("div",{class:"font-semibold text-gray-600",key:o},v(o),1)),64)),(u(!0),d(x,null,b(k.value,(o,h)=>(u(),d("div",{key:h,onClick:D=>B(o.date),class:N(["p-2 rounded-full cursor-pointer",o.day===""?"invisible":"",j(o.date)?"bg-[#6db631] text-white":F(o.date)?"bg-[#b3dca6]":"hover:bg-gray-200"])},v(o.day),11,$))),128))]),a("div",{class:"w-full mt-4 flex justify-between items-center"},[a("div",{class:"h-10 rounded-full flex justify-center items-center px-3 py-2.5 cursor-pointer text-[#6db631] text-[15px] font-semibold font-['Figtree'] leading-tight",onClick:Y}," Limpar "),a("div",{class:"flex gap-2"},[a("div",{class:"h-10 rounded-full flex justify-center items-center px-3 py-2.5 cursor-pointer text-[#6db631] text-[15px] font-semibold font-['Figtree'] leading-tight",onClick:T}," Cancelar "),a("div",{class:"h-10 rounded-full flex justify-center items-center px-3 py-2.5 cursor-pointer text-[#6db631] text-[15px] font-semibold font-['Figtree'] leading-tight",onClick:P}," OK ")])])])):M("",!0)]))}};export{U as _};
