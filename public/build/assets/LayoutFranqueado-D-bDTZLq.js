import{y as F,i as f,o as n,e as c,a as e,t as b,d as S,m as L,D as y,c as M,w as $,n as p,h as x,p as P,u as w,A as C,F as I,g as q,b as k,N as U,Z as V,r as R}from"./app-BGEKxoeK.js";import{u as O}from"./user-O64GqxFH.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={setup(){const a=O();F(async()=>{a.user||await a.fetchUserProfile()});const s=f(()=>a.user),o=f(()=>{var t;return(t=a.user)==null?void 0:t.unidade}),l=f(()=>{var t,r;return((t=s.value)==null?void 0:t.profile_photo_url)||`https://ui-avatars.com/api/?name=${m((r=s.value)==null?void 0:r.name)}&color=7F9CF5&background=EBF4FF`});function m(t){return t?t.split(" ").map(i=>i.charAt(0).toUpperCase()).join(""):"*"}return{user:s,profilePhoto:l,unidade:o}}},D={class:"navbar"},G={class:"navbar-content"},H={class:"navbar-left"},J={class:"navbar-logo"},z=["href"],K={class:"navbar-right"},Q={class:"user-info"},W=["src"],Z={class:"user-details"},X={class:"user-name"},Y={class:"user-location"};function ee(a,s,o,l,m,t){var r,u;return n(),c("div",D,[s[3]||(s[3]=e("div",{class:"navbar-background"},null,-1)),e("div",G,[e("div",H,[e("div",J,[s[1]||(s[1]=e("div",{class:"mr-4"},[e("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[e("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),e("div",null,[e("a",{href:a.route("franqueado.painel")},s[0]||(s[0]=[e("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,z)])])]),e("div",K,[s[2]||(s[2]=e("div",{class:"notification"},[e("div",{class:"circle"},[e("img",{src:"/storage/images/icon_notification.svg",alt:"icone notificação"})]),e("div",{class:"inner-circle"})],-1)),e("div",Q,[e("img",{src:l.profilePhoto,alt:"Avatar",class:"avatar"},null,8,W),e("div",Z,[e("div",X,b((r=l.user)==null?void 0:r.name),1),e("div",Y,b(((u=l.unidade)==null?void 0:u.cidade)||"Taiksu Franchising"),1)])])])])])}const se=_(j,[["render",ee],["__scopeId","data-v-7f7da930"]]),ae={class:"icon"},te=["src"],oe={class:"label"},ie={type:"submit",class:"w-full h-full flex items-center"},ne={class:"icon"},le=["src"],re={class:"label"},ue={key:2,class:"submenu"},ce={class:"label"},de={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean,submenuItems:{type:Array,default:()=>[]}},setup(a){const s=a,o=S(!1),l=S(null),m=f(()=>o.value),t=()=>{l.value&&(clearTimeout(l.value),l.value=null),o.value=!0},r=()=>{l.value=setTimeout(()=>{o.value=!1,i()},4e3)},u=()=>{const d=localStorage.getItem(`submenu-${s.link}`);d!==null&&(o.value=JSON.parse(d))},i=()=>{localStorage.setItem(`submenu-${s.link}`,JSON.stringify(o.value))},N=()=>{o.value=!o.value,i()},T=f(()=>h.value||s.isActive?"submenu-active":""),A=d=>{const v=window.location.pathname,g=new URL(route(d),window.location.origin).pathname;return v===g},h=f(()=>s.submenuItems.some(d=>A(d.link))),B=()=>{s.isLogout&&U.post(route("logout"))};return u(),L(h,()=>{h.value||y(()=>{o.value=!1,i()})}),L(o,d=>{y(()=>{i()})}),(d,v)=>(n(),c("div",null,[!a.isLogout&&a.link?(n(),M(w(C),{key:0,class:p(["menu-item",[T.value,{active:a.isActive||h.value}]]),href:a.link||"#",onClick:v[0]||(v[0]=P(g=>a.link&&N,["prevent"])),onMouseenter:t,onMouseleave:r},{default:$(()=>[e("div",ae,[e("img",{src:a.icon,alt:"icon"},null,8,te)]),e("div",oe,b(a.label),1),a.submenuItems&&a.submenuItems.length>0?(n(),c("div",{key:0,class:p(["right-icon",{"rotate-icon":m.value}])},v[1]||(v[1]=[e("img",{src:"/storage/images/arrow_drop_down.svg",alt:"arrow icon"},null,-1)]),2)):x("",!0)]),_:1},8,["class","href"])):(n(),c("form",{key:1,onSubmit:P(B,["prevent"]),class:"menu-item"},[e("button",ie,[e("div",ne,[e("img",{src:a.icon,alt:"icon"},null,8,le)]),e("div",re,b(a.label),1)])],32)),a.submenuItems&&a.submenuItems.length>0&&(o.value||h.value)?(n(),c("div",ue,[(n(!0),c(I,null,q(a.submenuItems,(g,E)=>(n(),c("div",{key:E},[k(w(C),{class:p(["submenu-item",{active:A(g.link)}]),href:d.route(g.link)},{default:$(()=>[e("div",ce,b(g.label),1)]),_:2},1032,["href","class"])]))),128))])):x("",!0)]))}},me=_(de,[["__scopeId","data-v-6c2f9bbc"]]),ve={class:"category-title menu-categorias text-sm sm:text-base font-medium text-[#87ba73] mb-3 pl-4"},ge={__name:"Slidebar",setup(a){const s=S(null),o=[{name:"",items:[{label:"Inicio",icon:"/storage/images/inicio.svg",link:"franqueado.painel",isLogout:!1,isActive:!1}]},{name:"Ferramentas",items:[{label:"E-mail",icon:"/storage/images/email.svg",link:"franqueado.email",isLogout:!1,isActive:!1},{label:"Comunidade",icon:"/storage/images/diversity_4.svg",link:"franqueado.comunidade",isLogout:!1,isActive:!1},{label:"Mídias",icon:"/storage/images/perm_media.svg",link:"franqueado.midias",isLogout:!1,isActive:!1}]},{name:"Gestão da loja",items:[{label:"Controle de estoque",icon:"/storage/images/estoque.svg",link:"franqueado.estoque",isLogout:!1,submenuItems:[{label:"Inventário",icon:"/storage/images/add_product.svg",link:"franqueado.inventario"},{label:"Fornecedores",link:"franqueado.fornecedores"},{label:"Novo Pedidos",link:"franqueado.pedidos"},{label:"Histórico de Pedidos",link:"franqueado.historicoPedidos"}],isActive:!1},{label:"Supervisão de resíduos",icon:"/storage/images/delete_branco.svg",link:"franqueado.supervisaoResidos",isLogout:!1,isActive:!1},{label:"Gestão de equipe",icon:"/storage/images/gestao_servisos.svg",link:"franqueado.gestaoEquipe",isLogout:!1,submenuItems:[{label:"Controle de ponto",icon:"/storage/images/add_product.svg",link:"franqueado.controlePonto"},{label:"Folha de pagamento",link:"franqueado.folhaPagamento"}],isActive:!1},{label:"Taiksu IA",icon:"/storage/images/TAIKSU_IA_ICONE.svg",link:"franqueado.midias",isLogout:!1,isActive:!1}]},{name:"Financeiro",items:[{label:"Fluxo de caixa",icon:"/storage/images/fluxo_caixa.svg",link:"franqueado.abrirCaixa",isLogout:!1,submenuItems:[{label:"Métodos de pagamento",link:"franqueado.metodosPagamentos"},{label:"Canais de Vendas",link:"franqueado.canaisVendas"},{label:"Histórico de Caixa",link:"franqueado.historicoCaixa"}],isActive:!1}]},{name:"",items:[{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];F(()=>{const t=localStorage.getItem("sidebarScrollPosition");t&&s.value&&(s.value.scrollTop=t)});const l=()=>{s.value&&localStorage.setItem("sidebarScrollPosition",s.value.scrollTop)},m=t=>{const r=window.location.pathname,u=new URL(t,window.location.origin).pathname;return r===u||r.startsWith(u)};return(t,r)=>(n(),c("div",null,[e("div",{class:"sidebar fixed top-16 left-0 bg-[#164110] text-white flex flex-col p-3 overflow-y-auto h-full sm:w-64 md:w-72 lg:w-80 xl:w-80",ref_key:"sidebar",ref:s,onScroll:l},[(n(),c(I,null,q(o,u=>e("div",{key:u.name,class:"menu-category mb-6"},[e("div",ve,b(u.name),1),(n(!0),c(I,null,q(u.items,i=>(n(),M(me,{key:i.link||"no-link",label:i.label,icon:i.icon,link:i.link?t.route(i.link):null,submenuItems:i.submenuItems,isActive:i.link?m(t.route(i.link)):!1,isLogout:i.isLogout},null,8,["label","icon","link","submenuItems","isActive","isLogout"]))),128))])),64))],544)]))}},fe=_(ge,[["__scopeId","data-v-dd24d4c6"]]),be={class:"content"},he={__name:"LayoutFranqueado",props:{title:String},setup(a){return(s,o)=>(n(),c("div",null,[k(w(V),{title:a.title},null,8,["title"]),k(se),k(fe),e("main",be,[R(s.$slots,"default",{},void 0,!0)])]))}},we=_(he,[["__scopeId","data-v-d4397c97"]]);export{we as L};
