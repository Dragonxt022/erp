import{G as S,H as L,z as h,m as f,o as l,e as d,a as s,t as g,c as b,w,n as $,u as k,k as y,i as I,N as P,d as A,F as _,h as p,b as v,Z as N,r as F}from"./app-DX4t39oE.js";import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B=S("user",{state:()=>({user:JSON.parse(localStorage.getItem("user"))||null}),actions:{async fetchUserProfile(){if(!this.user)try{const e=await L.get("/api/profile");e.data.status==="success"?(this.user=e.data.data,localStorage.setItem("user",JSON.stringify(this.user))):console.error("Erro ao carregar o perfil:",e.data.message)}catch(e){console.error("Erro ao buscar perfil:",e)}},clearUser(){this.user=null,localStorage.removeItem("user")}}}),U={setup(){const e=B();h(async()=>{e.user||await e.fetchUserProfile()});const o=f(()=>e.user),c=f(()=>{var i,a;return((i=o.value)==null?void 0:i.profile_photo_url)||`https://ui-avatars.com/api/?name=${r((a=o.value)==null?void 0:a.name)}&color=7F9CF5&background=EBF4FF`});function r(i){return i?i.split(" ").map(t=>t.charAt(0).toUpperCase()).join(""):"NN"}return{user:o,profilePhoto:c}}},C={class:"navbar"},M={class:"navbar-content"},E={class:"navbar-left"},q={class:"navbar-logo"},x=["href"],G={class:"navbar-right"},V={class:"user-info"},z=["src"],J={class:"user-details"},O={class:"user-name"},T={class:"user-location"};function j(e,o,c,r,i,a){var u,t,n;return l(),d("div",C,[o[3]||(o[3]=s("div",{class:"navbar-background"},null,-1)),s("div",M,[s("div",E,[s("div",q,[o[1]||(o[1]=s("div",{class:"mr-4"},[s("a",{href:"https://www.taiksu.com.br/office/",target:"_blank"},[s("img",{src:"/storage/images/quadrados_verdes.svg",alt:"Quadrados verdes",class:"w-full h-full"})])],-1)),s("div",null,[s("a",{href:e.route("painel")},o[0]||(o[0]=[s("img",{src:"/storage/images/logo_tipo_verde.svg",alt:"logo tipo verde",class:"w-full h-full"},null,-1)]),8,x)])])]),s("div",G,[o[2]||(o[2]=s("div",{class:"notification"},[s("div",{class:"circle"},[s("img",{src:"/storage/images/icon_notification.svg",alt:"icone notificação"})]),s("div",{class:"inner-circle"})],-1)),s("div",V,[s("img",{src:r.profilePhoto,alt:"Avatar",class:"avatar"},null,8,z),s("div",J,[s("div",O,g((u=r.user)==null?void 0:u.name),1),s("div",T,g((n=(t=r.user)==null?void 0:t.user_details)==null?void 0:n.cidade),1)])])])])])}const D=m(U,[["render",j],["__scopeId","data-v-ed88104e"]]),H={class:"icon"},Q=["src"],R={class:"label"},W={type:"submit",class:"menu-item"},Z={class:"icon"},K=["src"],X={class:"label"},Y={__name:"MenuItem",props:{label:String,icon:String,link:String,isActive:Boolean,isLogout:Boolean},setup(e){const o=e,c=()=>{o.isLogout&&P.post(route("logout"))};return(r,i)=>e.isLogout?(l(),d("form",{key:1,onSubmit:I(c,["prevent"])},[s("button",W,[s("div",Z,[s("img",{src:e.icon,alt:"icon"},null,8,K)]),s("div",X,g(e.label),1)])],32)):(l(),b(k(y),{key:0,class:$(["menu-item",{active:e.isActive}]),href:e.link},{default:w(()=>[s("div",H,[s("img",{src:e.icon,alt:"icon"},null,8,Q)]),s("div",R,g(e.label),1)]),_:1},8,["class","href"]))}},ss=m(Y,[["__scopeId","data-v-6921308f"]]),es={class:"category-title"},os={__name:"Slidebar",setup(e){const o=A(null);h(()=>{const a=localStorage.getItem("sidebarScrollPosition");a&&o.value&&(o.value.scrollTop=a)});const c=()=>{o.value&&localStorage.setItem("sidebarScrollPosition",o.value.scrollTop)},r=a=>{const u=window.location.pathname,t=new URL(a,window.location.origin).pathname;return u===t||u.startsWith(t)},i=[{name:"",items:[{label:"Visão Geral",icon:"/storage/images/insert_chart.svg",link:"painel",isLogout:!1}]},{name:"Painel",items:[{label:"E-mail",icon:"/storage/images/email.svg",link:"email",isLogout:!1},{label:"Comunidade",icon:"/storage/images/diversity_4.svg",link:"comunidade",isLogout:!1},{label:"Mídias",icon:"/storage/images/perm_media.svg",link:"midias",isLogout:!1}]},{name:"Gestão da rede",items:[{label:"Megafone",icon:"/storage/images/campaign.svg",link:"megafone",isLogout:!1},{label:"Franqueados",icon:"/storage/images/person.svg",link:"franqueados",isLogout:!1},{label:"Unidades",icon:"/storage/images/storefront.svg",link:"unidades",isLogout:!1}]},{name:"Parâmetros da franquia",items:[{label:"Insumos",icon:"/storage/images/insumos.svg",link:"insumos",isLogout:!1},{label:"Inspetor",icon:"/storage/images/inspecionador.svg",link:"inspetor",isLogout:!1},{label:"Sair",icon:"/storage/images/log-out.png",link:"logout",isLogout:!0}]}];return(a,u)=>(l(),d("div",{class:"sidebar",ref_key:"sidebar",ref:o,onScroll:c},[(l(),d(_,null,p(i,t=>s("div",{key:t.name,class:"menu-category"},[s("div",es,g(t.name),1),(l(!0),d(_,null,p(t.items,n=>(l(),b(ss,{key:n.link,label:n.label,icon:n.icon,link:a.route(n.link),isActive:r(a.route(n.link)),isLogout:n.isLogout},null,8,["label","icon","link","isActive","isLogout"]))),128))])),64))],544))}},as=m(os,[["__scopeId","data-v-8427dd2e"]]),ts={class:"content"},is={__name:"AppLayout",props:{title:String},setup(e){return(o,c)=>(l(),d("div",null,[v(k(N),{title:e.title},null,8,["title"]),v(D),v(as),s("main",ts,[F(o.$slots,"default",{},void 0,!0)])]))}},ls=m(is,[["__scopeId","data-v-5a51be22"]]);export{ls as A};
